<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Bonus vetus OLS (BVU) — bvu • gravity</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Bonus vetus OLS (BVU) — bvu"><meta name="description" content="bvu estimates gravity models via Bonus vetus OLS with simple averages."><meta property="og:description" content="bvu estimates gravity models via Bonus vetus OLS with simple averages."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gravity</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/crash-course-on-gravity-models.html">A crash course on gravity models</a></li>
    <li><a class="dropdown-item" href="../articles/creating-gravity-datasets.html">Creating gravity datasets</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pachadotdev/gravity/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Bonus vetus OLS (BVU)</h1>
      <small class="dont-index">Source: <a href="https://github.com/pachadotdev/gravity/blob/HEAD/R/bvu.R" class="external-link"><code>R/bvu.R</code></a></small>
      <div class="d-none name"><code>bvu.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>bvu</code> estimates gravity models via Bonus vetus OLS with simple averages.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">bvu</span><span class="op">(</span></span>
<span>  <span class="va">dependent_variable</span>,</span>
<span>  <span class="va">distance</span>,</span>
<span>  additional_regressors <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">income_origin</span>,</span>
<span>  <span class="va">income_destination</span>,</span>
<span>  <span class="va">code_origin</span>,</span>
<span>  <span class="va">code_destination</span>,</span>
<span>  robust <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dependent-variable">dependent_variable<a class="anchor" aria-label="anchor" href="#arg-dependent-variable"></a></dt>
<dd><p>(Type: character) name of the dependent variable. This dependent variable is
divided by the product of unilateral incomes such (i.e. <code>income_origin</code> and <code>income_destination</code>)
and logged afterwards.</p></dd>


<dt id="arg-distance">distance<a class="anchor" aria-label="anchor" href="#arg-distance"></a></dt>
<dd><p>(Type: character) name of the distance variable that should be taken as the key independent variable
in the estimation. The distance is logged automatically when the function is executed.</p></dd>


<dt id="arg-additional-regressors">additional_regressors<a class="anchor" aria-label="anchor" href="#arg-additional-regressors"></a></dt>
<dd><p>(Type: character) names of the additional regressors to include in the model (e.g. a dummy
variable to indicate contiguity). Unilateral metric variables such as GDP should be inserted via the arguments
<code>income_origin</code> and <code>income_destination</code>. As country specific effects are subdued due to demeaning, no further unilateral variables apart from incomes can be added.</p>
<p>Write this argument as <code>c(contiguity, common currency, ...)</code>. By default this is set to <code>NULL</code>.</p></dd>


<dt id="arg-income-origin">income_origin<a class="anchor" aria-label="anchor" href="#arg-income-origin"></a></dt>
<dd><p>(Type: character) origin income variable (e.g. GDP) in the dataset.</p></dd>


<dt id="arg-income-destination">income_destination<a class="anchor" aria-label="anchor" href="#arg-income-destination"></a></dt>
<dd><p>(Type: character) destination income variable (e.g. GDP) in the dataset.</p></dd>


<dt id="arg-code-origin">code_origin<a class="anchor" aria-label="anchor" href="#arg-code-origin"></a></dt>
<dd><p>(Type: character) country of origin variable (e.g. ISO-3 country codes). The variables are grouped
using this parameter.</p></dd>


<dt id="arg-code-destination">code_destination<a class="anchor" aria-label="anchor" href="#arg-code-destination"></a></dt>
<dd><p>(Type: character) country of destination variable (e.g. country ISO-3 codes). The variables are
grouped using this parameter.</p></dd>


<dt id="arg-robust">robust<a class="anchor" aria-label="anchor" href="#arg-robust"></a></dt>
<dd><p>(Type: logical) whether robust fitting should be used. By default this is set to <code>FALSE</code>.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>(Type: data.frame) the dataset to be used.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to be passed to the function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The function returns the summary of the estimated gravity model as an
<code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></code>-object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Bonus vetus OLS is an estimation method for gravity models
developed by Baier and Bergstrand (2009); Baier and Bergstrand (2010)
 using simple averages to center a
Taylor-series.</p>
<p>The <code>bvu</code> function considers Multilateral Resistance terms and allows to
conduct comparative statics. Country specific effects are subdued due
to demeaning. Hence, unilateral variables apart from incomes cannot be included
in the estimation.</p>
<p><code>bvu</code> is designed to be consistent with the Stata code provided at
<a href="https://sites.google.com/site/hiegravity/" class="external-link">Gravity Equations: Workhorse, Toolkit, and Cookbook</a>
when choosing robust estimation.</p>
<p>As, to our knowledge at the moment, there is no explicit literature covering
the estimation of a gravity equation by <code>bvu</code> using panel data,
we do not recommend to apply this method in this case.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>For more information on gravity models, theoretical foundations and
estimation methods in general see</p>
<p>Anderson JE (1979).
“A Theoretical Foundation for the Gravity Equation.”
<em>The American Economic Review</em>, <b>69</b>(1), 106–116.
ISSN 00028282.</p>
<p>Anderson JE, van Wincoop E (2001).
“Gravity with Gravitas: A Solution to the Border Puzzle.”
Working Paper 8079, National Bureau of Economic Research.
<a href="https://doi.org/10.3386/w8079" class="external-link">doi:10.3386/w8079</a>
.</p>
<p>Anderson JE (2010).
“The Gravity Model.”
Working Paper 16576, National Bureau of Economic Research.
<a href="https://doi.org/10.3386/w16576" class="external-link">doi:10.3386/w16576</a>
.</p>
<p>Baier SL, Bergstrand JH (2009).
“Bonus vetus OLS: A simple method for approximating international trade-cost effects using the gravity equation.”
<em>Journal of International Economics</em>, <b>77</b>(1), 77 - 85.
ISSN 0022-1996, <a href="https://doi.org/10.1016/j.jinteco.2008.10.004" class="external-link">doi:10.1016/j.jinteco.2008.10.004</a>
.</p>
<p>Baier SL, Bergstrand JH (2010).
“The Gravity Model in International Trade: Advances and Applications.”
In van Bergeijk PAG, Brakman S (eds.), chapter 4.
Cambridge University Press.
<a href="https://doi.org/10.1017/CBO9780511762109" class="external-link">doi:10.1017/CBO9780511762109</a>
.</p>
<p>Feenstra RC (2002).
“Border effects and the gravity equation: consistent methods for estimation.”
<em>Scottish Journal of Political Economy</em>, <b>49</b>(5), 491–506.</p>
<p>Head K, Mayer T, Ries J (2010).
“The erosion of colonial trade linkages after independence.”
<em>Journal of International Economics</em>, <b>81</b>(1), 1 - 14.
ISSN 0022-1996, <a href="https://doi.org/10.1016/j.jinteco.2010.01.002" class="external-link">doi:10.1016/j.jinteco.2010.01.002</a>
.</p>
<p>Head K, Mayer T (2014).
“Chapter 3 - Gravity Equations: Workhorse,Toolkit, and Cookbook.”
In Gopinath G, Helpman E, Rogoff K (eds.), <em>Handbook of International Economics</em>, volume 4 of <em>Handbook of International Economics</em>, 131 - 195.
Elsevier.
<a href="https://doi.org/10.1016/B978-0-444-54314-1.00003-3" class="external-link">doi:10.1016/B978-0-444-54314-1.00003-3</a>
.</p>
<p>Silva JMCS, Tenreyro S (2006).
“The Log of Gravity.”
<em>The Review of Economics and Statistics</em>, <b>88</b>(4), 641-658.
<a href="https://doi.org/10.1162/rest.88.4.641" class="external-link">doi:10.1162/rest.88.4.641</a>
.</p>
<p>and the citations therein.</p>
<p>See <a href="https://sites.google.com/site/hiegravity/" class="external-link">Gravity Equations: Workhorse, Toolkit, and Cookbook</a> for gravity datasets and Stata code for estimating gravity models.</p>
<p>For estimating gravity equations using panel data see</p>
<p>Egger P, Pfaffermayr M (2003).
“The proper panel econometric specification of the gravity equation: A three-way model with bilateral interaction effects.”
<em>Empirical Economics</em>, <b>28</b>(3), 571–580.
ISSN 1435-8921, <a href="https://doi.org/10.1007/s001810200146" class="external-link">doi:10.1007/s001810200146</a>
.</p>
<p>Gómez-Herrera E (2013).
“Comparing alternative methods to estimate gravity models of bilateral trade.”
<em>Empirical Economics</em>, <b>44</b>(3), 1087–1111.
ISSN 1435-8921, <a href="https://doi.org/10.1007/s00181-012-0576-2" class="external-link">doi:10.1007/s00181-012-0576-2</a>
.</p>
<p>and the references therein.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></code>, <code><a href="https://rdrr.io/pkg/lmtest/man/coeftest.html" class="external-link">coeftest</a></code>,
<code><a href="https://sandwich.R-Forge.R-project.org/reference/vcovHC.html" class="external-link">vcovHC</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example for CRAN checks:</span></span></span>
<span class="r-in"><span><span class="co"># Executable in &lt; 5 sec</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"gravity_no_zeros"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Choose 5 countries for testing</span></span></span>
<span class="r-in"><span><span class="va">countries_chosen</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AUS"</span>, <span class="st">"CHN"</span>, <span class="st">"GBR"</span>, <span class="st">"BRA"</span>, <span class="st">"CAN"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">grav_small</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">gravity_no_zeros</span>, <span class="va">iso_o</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">countries_chosen</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">bvu</span><span class="op">(</span></span></span>
<span class="r-in"><span>  dependent_variable <span class="op">=</span> <span class="st">"flow"</span>,</span></span>
<span class="r-in"><span>  distance <span class="op">=</span> <span class="st">"distw"</span>,</span></span>
<span class="r-in"><span>  additional_regressors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rta"</span>, <span class="st">"contig"</span>, <span class="st">"comcur"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  income_origin <span class="op">=</span> <span class="st">"gdp_o"</span>,</span></span>
<span class="r-in"><span>  income_destination <span class="op">=</span> <span class="st">"gdp_d"</span>,</span></span>
<span class="r-in"><span>  code_origin <span class="op">=</span> <span class="st">"iso_o"</span>,</span></span>
<span class="r-in"><span>  code_destination <span class="op">=</span> <span class="st">"iso_d"</span>,</span></span>
<span class="r-in"><span>  robust <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">grav_small</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Anna-Lena Woelwer, Jan Pablo Burgard, Joshua Kunst, Mauricio Vargas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

