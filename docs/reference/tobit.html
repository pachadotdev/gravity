<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Left-censored Tobit model with known threshold — tobit • gravity</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Left-censored Tobit model with known threshold — tobit"><meta name="description" content="tobit estimates gravity models in their additive form
by conducting a left-censored regression, which, after adding the
constant 1 to the dependent variable, utilizes log(1) = 0
as the censoring value."><meta property="og:description" content="tobit estimates gravity models in their additive form
by conducting a left-censored regression, which, after adding the
constant 1 to the dependent variable, utilizes log(1) = 0
as the censoring value."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gravity</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/crash-course-on-gravity-models.html">A crash course on gravity models</a></li>
    <li><a class="dropdown-item" href="../articles/creating-gravity-datasets.html">Creating gravity datasets</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pachadotdev/gravity/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Left-censored Tobit model with known threshold</h1>
      <small class="dont-index">Source: <a href="https://github.com/pachadotdev/gravity/blob/HEAD/R/tobit.R" class="external-link"><code>R/tobit.R</code></a></small>
      <div class="d-none name"><code>tobit.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>tobit</code> estimates gravity models in their additive form
by conducting a left-censored regression, which, after adding the
constant <code>1</code> to the dependent variable, utilizes <code>log(1) = 0</code>
as the censoring value.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tobit</span><span class="op">(</span></span>
<span>  <span class="va">dependent_variable</span>,</span>
<span>  <span class="va">distance</span>,</span>
<span>  additional_regressors <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  added_constant <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dependent-variable">dependent_variable<a class="anchor" aria-label="anchor" href="#arg-dependent-variable"></a></dt>
<dd><p>(Type: character) name of the dependent variable. The number <code>1</code> is added and the
transformed variable is logged and taken as the dependent variable in the tobit estimation with lower bound
equal to <code>0</code> as <code>log(1) = 0</code> represents the smallest flows
in the transformed variable.</p></dd>


<dt id="arg-distance">distance<a class="anchor" aria-label="anchor" href="#arg-distance"></a></dt>
<dd><p>(Type: character) name of the distance variable that should be taken as the key independent variable
in the estimation. The distance is logged automatically when the function is executed.</p></dd>


<dt id="arg-additional-regressors">additional_regressors<a class="anchor" aria-label="anchor" href="#arg-additional-regressors"></a></dt>
<dd><p>(Type: character) names of the additional regressors to include in the model (e.g. a dummy
variable to indicate contiguity). Unilateral metric variables such as GDP should be inserted via the arguments
<code>income_origin</code> and <code>income_destination</code>.</p>
<p>Write this argument as <code>c(contiguity, common currency, ...)</code>. By default this is set to <code>NULL</code>.</p></dd>


<dt id="arg-added-constant">added_constant<a class="anchor" aria-label="anchor" href="#arg-added-constant"></a></dt>
<dd><p>(Type: numeric) the constant to be added to the dependent variable. The default value
is <code>1</code>. The minimum of <code>log(y + added_constant)</code> is taken as the
left boundary in the Tobit model.</p>
<p>In the often used case of <code>added_constant = 1</code>, the dependent variable is left-censored at value <code>0</code>
as <code>log(1) = 0</code>.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>(Type: data.frame) the dataset to be used.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to be passed to the function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The function returns the summary of the estimated gravity model as a
<code><a href="https://rdrr.io/pkg/censReg/man/censReg.html" class="external-link">censReg</a></code>-object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>tobit</code> represents the left-censored tobit Tobin (1958)

approach utilizing a known censoring threshold
which is often used when several gravity models are compared.</p>
<p>When taking the log of the gravity equation flows equal to zero
constitute a problem as their log is not defined.</p>
<p>Therefore, in the execution of the function the number <code>1</code>
is added to all flows and the <code>log(flows+1)</code> is
taken as the dependent variable.</p>
<p>The tobit estimation is conducted using the <code><a href="https://rdrr.io/pkg/censReg/man/censReg.html" class="external-link">censReg</a></code>
function and setting the lower bound equal to <code>0</code> as
<code>log(1)=0</code> represents the smallest flows in the transformed
variable.</p>
<p>A tobit regression represents a combination of a binary and a
linear regression.</p>
<p>This procedure has to be taken into consideration when
interpreting the estimated coefficients.</p>
<p>The marginal effects of an explanatory variable on the expected value of
the dependent variable equals the product of both the probability of the
latent variable exceeding the threshold and the marginal effect of the
explanatory variable of the expected value of the latent variable.</p>
<p>The function is designed for cross-sectional data,
but can be easily extended to panel data using the
<code><a href="https://rdrr.io/pkg/censReg/man/censReg.html" class="external-link">censReg</a></code> function.</p>
<p>A robust estimations is not implemented to the present
as the <code><a href="https://rdrr.io/pkg/censReg/man/censReg.html" class="external-link">censReg</a></code> function is not
compatible with the <code><a href="https://sandwich.R-Forge.R-project.org/reference/vcovHC.html" class="external-link">vcovHC</a></code> function.</p>
<p>For a more elaborate Tobit function, see <code><a href="ek_tobit.html">ek_tobit</a></code>
for the Eaton and Kortum (2001) Tobit model where each zero trade volume
is assigned a country specific interval with the upper
bound equal to the minimum positive trade level of the respective
importing country.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>For more information on gravity models, theoretical foundations and
estimation methods in general see</p>
<p>Anderson JE (1979).
“A Theoretical Foundation for the Gravity Equation.”
<em>The American Economic Review</em>, <b>69</b>(1), 106–116.
ISSN 00028282.</p>
<p>Anderson JE, van Wincoop E (2001).
“Gravity with Gravitas: A Solution to the Border Puzzle.”
Working Paper 8079, National Bureau of Economic Research.
<a href="https://doi.org/10.3386/w8079" class="external-link">doi:10.3386/w8079</a>
.</p>
<p>Anderson JE (2010).
“The Gravity Model.”
Working Paper 16576, National Bureau of Economic Research.
<a href="https://doi.org/10.3386/w16576" class="external-link">doi:10.3386/w16576</a>
.</p>
<p>Baier SL, Bergstrand JH (2009).
“Bonus vetus OLS: A simple method for approximating international trade-cost effects using the gravity equation.”
<em>Journal of International Economics</em>, <b>77</b>(1), 77 - 85.
ISSN 0022-1996, <a href="https://doi.org/10.1016/j.jinteco.2008.10.004" class="external-link">doi:10.1016/j.jinteco.2008.10.004</a>
.</p>
<p>Baier SL, Bergstrand JH (2010).
“The Gravity Model in International Trade: Advances and Applications.”
In van Bergeijk PAG, Brakman S (eds.), chapter 4.
Cambridge University Press.
<a href="https://doi.org/10.1017/CBO9780511762109" class="external-link">doi:10.1017/CBO9780511762109</a>
.</p>
<p>Feenstra RC (2002).
“Border effects and the gravity equation: consistent methods for estimation.”
<em>Scottish Journal of Political Economy</em>, <b>49</b>(5), 491–506.</p>
<p>Head K, Mayer T, Ries J (2010).
“The erosion of colonial trade linkages after independence.”
<em>Journal of International Economics</em>, <b>81</b>(1), 1 - 14.
ISSN 0022-1996, <a href="https://doi.org/10.1016/j.jinteco.2010.01.002" class="external-link">doi:10.1016/j.jinteco.2010.01.002</a>
.</p>
<p>Head K, Mayer T (2014).
“Chapter 3 - Gravity Equations: Workhorse,Toolkit, and Cookbook.”
In Gopinath G, Helpman E, Rogoff K (eds.), <em>Handbook of International Economics</em>, volume 4 of <em>Handbook of International Economics</em>, 131 - 195.
Elsevier.
<a href="https://doi.org/10.1016/B978-0-444-54314-1.00003-3" class="external-link">doi:10.1016/B978-0-444-54314-1.00003-3</a>
.</p>
<p>Silva JMCS, Tenreyro S (2006).
“The Log of Gravity.”
<em>The Review of Economics and Statistics</em>, <b>88</b>(4), 641-658.
<a href="https://doi.org/10.1162/rest.88.4.641" class="external-link">doi:10.1162/rest.88.4.641</a>
.</p>
<p>and the citations therein.</p>
<p>See <a href="https://sites.google.com/site/hiegravity/" class="external-link">Gravity Equations: Workhorse, Toolkit, and Cookbook</a> for gravity datasets and Stata code for estimating gravity models.</p>
<p>For estimating gravity equations using panel data see</p>
<p>Egger P, Pfaffermayr M (2003).
“The proper panel econometric specification of the gravity equation: A three-way model with bilateral interaction effects.”
<em>Empirical Economics</em>, <b>28</b>(3), 571–580.
ISSN 1435-8921, <a href="https://doi.org/10.1007/s001810200146" class="external-link">doi:10.1007/s001810200146</a>
.</p>
<p>Gómez-Herrera E (2013).
“Comparing alternative methods to estimate gravity models of bilateral trade.”
<em>Empirical Economics</em>, <b>44</b>(3), 1087–1111.
ISSN 1435-8921, <a href="https://doi.org/10.1007/s00181-012-0576-2" class="external-link">doi:10.1007/s00181-012-0576-2</a>
.</p>
<p>and the references therein.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/censReg/man/censReg.html" class="external-link">censReg</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example for CRAN checks:</span></span></span>
<span class="r-in"><span><span class="co"># Executable in &lt; 5 sec</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"gravity_no_zeros"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Choose 5 countries for testing</span></span></span>
<span class="r-in"><span><span class="va">countries_chosen</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AUS"</span>, <span class="st">"CHN"</span>, <span class="st">"GBR"</span>, <span class="st">"BRA"</span>, <span class="st">"CAN"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">grav_small</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">gravity_no_zeros</span>, <span class="va">iso_o</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">countries_chosen</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">grav_small</span><span class="op">$</span><span class="va">lgdp_o</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">grav_small</span><span class="op">$</span><span class="va">gdp_o</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">grav_small</span><span class="op">$</span><span class="va">lgdp_d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">grav_small</span><span class="op">$</span><span class="va">gdp_d</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">tobit</span><span class="op">(</span></span></span>
<span class="r-in"><span>  dependent_variable <span class="op">=</span> <span class="st">"flow"</span>,</span></span>
<span class="r-in"><span>  distance <span class="op">=</span> <span class="st">"distw"</span>,</span></span>
<span class="r-in"><span>  additional_regressors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rta"</span>, <span class="st">"lgdp_o"</span>, <span class="st">"lgdp_d"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  added_constant <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">grav_small</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Anna-Lena Woelwer, Jan Pablo Burgard, Joshua Kunst, Mauricio Vargas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

