[{"path":"/articles/crash-course-on-gravity-models.html","id":"basic-model","dir":"Articles","previous_headings":"","what":"Basic model","title":"A crash course on gravity models","text":"Gravity models traditional form inspired Newton law gravitation: Fij=GMiMjDij2. F_{ij}=G\\frac{M_{}M_{j}}{D^{2}_{ij}}. force FF two bodies ii jj ≠ji \\neq j proportional masses MM bodies inversely proportional square geographical distance DD. GG constant major concern. underlying idea traditional gravity model, shown international trade, equally simple: Xij=GYiβ1Yjβ2Dijβ3. X_{ij}=G\\frac{Y_{}^{\\beta_{1}}Y_{j}^{\\beta_{2}}}{D_{ij}^{\\beta_{3}}}. trade flow XX explained YiY_{} YjY_{j} masses exporting importing country (e.g. GDP) DijD_{ij} distance countries. Dummy variables common borders contigcontig regional trade agreements rtarta can added model. Let tijt_{ij} transaction cost defined : tij=Dijexp(contigij+rtaij) t_{ij}= D_{ij} \\exp(contig_{ij} + rta_{ij}) model friction becomes: Xij=GYiβ1Yjβ2tijβ3. X_{ij}=G\\frac{Y_{}^{\\beta_{1}}Y_{j}^{\\beta_{2}}}{t_{ij}^{\\beta_{3}}}. logarithmic operator can applied form log-linear model use standard estimation methods OLS: logXij=β0logG+β1logYi+β2logYj+β3logDij+β4contigij+β5rtaij \\log X_{ij}=\\beta_{0}\\log G +\\beta_{1}\\log Y_{}+\\beta_{2}\\log Y_{j}+\\beta_{3}\\log D_{ij}+\\beta_{4}contig_{ij}+\\beta_{5}rta_{ij}","code":""},{"path":"/articles/crash-course-on-gravity-models.html","id":"trade-barriers-model","dir":"Articles","previous_headings":"","what":"Trade barriers model","title":"A crash course on gravity models","text":"Provided trade barriers exists, econometric literature proposes Multilateral Resistance model defined equations: Xij=YiYjYtij1−σPj1−σΠi1−σ X_{ij}=\\frac{Y_{}Y_{j}}{Y}\\frac{t_{ij}^{1-\\sigma}}{P_{j}^{1-\\sigma}\\Pi_{}^{1-\\sigma}}  Pi1−σ=∑jtij1−σΠj1−σYjY. P_{}^{1-\\sigma}=\\sum_{j}\\frac{t_{ij}^{1-\\sigma}}{\\Pi_{j}^{1-\\sigma}}\\frac{Y_{j}}{Y}.  Πj1−σ=∑itij1−σPi1−σYiY \\Pi_{j}^{1-\\sigma}=\\sum_{}\\frac{t_{ij}^{1-\\sigma}}{P_{}^{1-\\sigma}}\\frac{Y_{}}{Y} Basically model proposes exports XijX_{ij} ii jj determined supply factors ii, YiY_{}, demand factors jj, YjY_{j}, well transaction costs tijt_{ij}. Next information bilateral partners ii jj, information rest world included gravity model Y=∑iYi=∑jYjY=\\sum_{} Y_{}= \\sum_{j} Y_{j} represents worldwide sum incomes (e.g. world’s GDP). model σ\\sigma represents elasticity substitution goods. key assumption take fixed value σ>1\\sigma > 1 order account preference variation goods (e.g. model goods can replaced similar goods). Multilateral Resistance terms included via terms PP, Inward Multilateral Resistance, Π\\Pi, Outward Multilateral Resistance. Inward Multilateral Resistance PiP_i function transaction costs ii trade partners jj. Outward Multilateral Resistance Πj\\Pi_{j} function transaction costs jj trade partners ii demand. Multilateral Resistance terms dependent . Hence, estimation structural gravity models becomes complex.","code":""},{"path":"/articles/crash-course-on-gravity-models.html","id":"model-estimation","dir":"Articles","previous_headings":"","what":"Model estimation","title":"A crash course on gravity models","text":"estimate gravity equations need square dataset including bilateral flows defined argument dependent_variable, distance measure defined argument distance key regressor, potential influences (e.g. contiguity common currency) given vector additional_regressors required. estimation methods require ISO codes similar type character variables compute particular country effects. Make sure origin destination codes type “character”. rule thumb regressors independent variables consists : dummy variables type numeric (0/1). independent variable defined ratio, logged. user perform data cleaning beforehand remove observations contain entries can distort estimates, notwithstanding functions provided within package remove zero flows distances. See  gravity datasets Stata code estimating gravity models.","code":""},{"path":"/articles/crash-course-on-gravity-models.html","id":"examples","dir":"Articles","previous_headings":"","what":"Examples","title":"A crash course on gravity models","text":"examples adapted Wölwer, Breßlein, Burgard (2018). included examples require explanation perform data transforming therefore functions provide simplification end user.","code":""},{"path":"/articles/crash-course-on-gravity-models.html","id":"double-demeaning","dir":"Articles","previous_headings":"Examples","what":"Double Demeaning","title":"A crash course on gravity models","text":"Double Demeaning, introduced Head Mayer (2014), subtracts importer exporter averages left right hand side respective gravity equation, unilateral influences including Multilateral Resistance terms vanish. Therefore, unilateral variables may added independent variables estimation. ddm function first logs dependent variable distance variable. Afterwards, dependent independent variables transformed following way (exemplary shown trade flows, XijX_{ij}): $$ (\\log X_{ij})_{\\text{DDM}} = (\\log X_{ij}) - (\\log X_{ij})_{\\text{Origin Mean}} \\\\- (\\log X_{ij})_{\\text{Destination Mean}} + (\\log X_{ij})_{\\text{Mean}}. $$ One subtracts mean value origin country mean value destination country adds overall mean value logged trade flows. procedure repeated dependent independent variables. transformed variables used estimation. DDM easily applied, , shown , sensitive missing data. example apply function ddm example dataset gravity resulting output shown following: package returns lm glm objects instead summaries. allows use functions conjunction broom packages.","code":"library(gravity)  fit <- ddm(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"comcur\", \"contig\"),   code_origin = \"iso_o\",   code_destination = \"iso_d\",   data = gravity_no_zeros )  summary(fit) ##  ## Call: ## y_log_ddm ~ dist_log_ddm + rta_ddm + comcur_ddm + contig_ddm +  ##     0 ##  ## Residuals: ##      Min       1Q   Median       3Q      Max  ## -20.9411  -1.2268   0.3032   1.5195   8.4538  ##  ## Coefficients: ##              Estimate Std. Error t value Pr(>|t|)     ## dist_log_ddm -1.60334    0.03312 -48.407   <2e-16 *** ## rta_ddm       0.79727    0.07004  11.383   <2e-16 *** ## comcur_ddm    0.17376    0.14613   1.189    0.234     ## contig_ddm    1.00184    0.11981   8.362   <2e-16 *** ## --- ## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 ##  ## Residual standard error: 2.318 on 17084 degrees of freedom ## Multiple R-squared:  0.2541, Adjusted R-squared:  0.254  ## F-statistic:  1455 on 4 and 17084 DF,  p-value: < 2.2e-16"},{"path":"/articles/crash-course-on-gravity-models.html","id":"bonus-vetus","dir":"Articles","previous_headings":"Examples","what":"Bonus Vetus","title":"A crash course on gravity models","text":"Baier Bergstrand (2010) suggests modification simple OLS easily implemented, allows comparative statics yields results close NLS, called Bonus vetus OLS (BVU BVW). estimate gravity models additive form. unilateral income elasticities assumed, flows divided product unilateral incomes. dependent variable estimation therefore log(yincoincd).\\log\\left(\\frac{y}{inc_{o} \\: inc_{d}}\\right). applying Taylor-series expansion assumption symmetrical, bilateral trade costs, develop reduced gravity model multilateral worldwide resistance enter exogenously. Baier Bergstrand (2010) distinguishes two types Bonus vetus estimations depending Taylor-series centered. One method, called BVU, uses simple averages , called BVW, uses GDP weights. Depending method used, transaction costs weighted differently. advantages disadvantages methods see Baier Bergstrand (2009) Baier Bergstrand (2010). give example simple averages (BVU), distance transformed Multilateral World Resistance following way: MWRij=1N(∑=1NlogDij)+1N(∑j=1NlogDij)−1N2(∑=1N∑j=1NlogDij) MWR_{ij} = \\frac{1}{N}\\left(\\sum_{=1}^{N}\\log D_{ij} \\right)+\\frac{1}{N}\\left(\\sum_{j=1}^{N}\\log D_{ij} \\right)-\\frac{1}{N^{2}}\\left(\\sum_{=1}^{N}\\sum_{j=1}^{N}\\log D_{ij} \\right)  DijD_{ij} denoting bilateral distance, NN number countries (MWR)Dij(MWR)_{D_{ij}} transformed variable adjusted multilateral resistances. using weighted averages (BVW), simple averages replaced GDP weights. transformed variables included independent variables estimation. resulting equation can estimated simple OLS. example apply functions bvu bvw example dataset gravity resulting output shown following:","code":"fit2 <- bvu(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"contig\", \"comcur\"),   income_origin = \"gdp_o\",   income_destination = \"gdp_d\",   code_origin = \"iso_o\",   code_destination = \"iso_d\",   data = gravity_no_zeros )  summary(fit2) ##  ## Call: ## y_log_bvu ~ dist_log_mr + rta_mr + contig_mr + comcur_mr ##  ## Residuals: ##      Min       1Q   Median       3Q      Max  ## -20.0642  -1.2305   0.2932   1.5810   9.6659  ##  ## Coefficients: ##              Estimate Std. Error   t value Pr(>|t|)     ## (Intercept) -20.15771    0.01919 -1050.573  < 2e-16 *** ## dist_log_mr  -1.68697    0.03586   -47.048  < 2e-16 *** ## rta_mr        0.58230    0.07926     7.347 2.12e-13 *** ## contig_mr     1.00135    0.13148     7.616 2.75e-14 *** ## comcur_mr     0.19102    0.16727     1.142    0.253     ## --- ## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 ##  ## Residual standard error: 2.508 on 17083 degrees of freedom ## Multiple R-squared:  0.2294, Adjusted R-squared:  0.2292  ## F-statistic:  1271 on 4 and 17083 DF,  p-value: < 2.2e-16 fit3 <- bvw(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"comcur\", \"contig\"),   income_origin = \"gdp_o\",   income_destination = \"gdp_d\",   code_origin = \"iso_o\",   code_destination = \"iso_d\",   data = gravity_no_zeros )  summary(fit3) ##  ## Call: ## y_log_bvw ~ dist_log_mr + rta_mr + comcur_mr + contig_mr ##  ## Residuals: ##      Min       1Q   Median       3Q      Max  ## -19.1204  -1.3366   0.4068   1.7068  10.6927  ##  ## Coefficients: ##              Estimate Std. Error t value Pr(>|t|)     ## (Intercept) -20.37260    0.05458 -373.27  < 2e-16 *** ## dist_log_mr  -0.63445    0.02566  -24.73  < 2e-16 *** ## rta_mr        1.30989    0.06703   19.54  < 2e-16 *** ## comcur_mr    -0.89609    0.14201   -6.31 2.86e-10 *** ## contig_mr     1.37696    0.12606   10.92  < 2e-16 *** ## --- ## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 ##  ## Residual standard error: 2.683 on 17083 degrees of freedom ## Multiple R-squared:  0.1185, Adjusted R-squared:  0.1183  ## F-statistic:   574 on 4 and 17083 DF,  p-value: < 2.2e-16"},{"path":"/articles/crash-course-on-gravity-models.html","id":"poisson-pseudo-maximum-likelihood-ppml","dir":"Articles","previous_headings":"Examples","what":"Poisson Pseudo Maximum Likelihood (PPML)","title":"A crash course on gravity models","text":"Silva Tenreyro (2006) argue estimating gravity equations additive form OLS leads inconsistency presence heteroscedasticity advice estimate gravity models multiplicative form. example apply function ppml example dataset gravity resulting output shown following: order obtain robust standard errors (.e. similar way vce(robust) Stata) can include robust = T arguments:","code":"fit4 <- ppml(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"comcur\", \"contig\"),   data = gravity_no_zeros )  summary(fit4) ##  ## Call: ## y_ppml ~ dist_log + rta + comcur + contig ##  ## Coefficients: ##             Estimate Std. Error t value Pr(>|t|)     ## (Intercept)  5.76232    0.77160   7.468 8.54e-14 *** ## dist_log     0.02428    0.08728   0.278    0.781     ## rta          1.26582    0.16972   7.458 9.20e-14 *** ## comcur       1.10604    0.17982   6.151 7.89e-10 *** ## contig       1.75821    0.18141   9.692  < 2e-16 *** ## --- ## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 ##  ## (Dispersion parameter for quasipoisson family taken to be 42366.31) ##  ##     Null deviance: 78081855  on 17087  degrees of freedom ## Residual deviance: 61989121  on 17083  degrees of freedom ## AIC: NA ##  ## Number of Fisher Scoring iterations: 8 fit4r <- ppml(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"comcur\", \"contig\"),   robust = TRUE,   data = gravity_no_zeros )  summary(fit4r) ##  ## Call: ## y_ppml ~ dist_log + rta + comcur + contig ##  ## Coefficients: ##      Estimate Std. Error t value Pr(>|t|)     ## [1,]  5.76232    0.77160   7.468 8.54e-14 *** ## [2,]  0.02428    0.08728   0.278    0.781     ## [3,]  1.26582    0.16972   7.458 9.20e-14 *** ## [4,]  1.10604    0.17982   6.151 7.89e-10 *** ## [5,]  1.75821    0.18141   9.692  < 2e-16 *** ## --- ## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 ##  ## (Dispersion parameter for quasipoisson family taken to be 42366.31) ##  ##     Null deviance: 78081855  on 17087  degrees of freedom ## Residual deviance: 61989121  on 17083  degrees of freedom ## AIC: NA ##  ## Number of Fisher Scoring iterations: 8"},{"path":"/articles/crash-course-on-gravity-models.html","id":"gamma-pseudo-maximum-likelihood-gpml","dir":"Articles","previous_headings":"Examples","what":"Gamma Pseudo Maximum Likelihood (GPML)","title":"A crash course on gravity models","text":"estimation method similar PPML, utilizes gamma instead poisson distribution, thereby implies different assumptions data structure allow zero trade values. Silva Tenreyro (2006) argue favor PPML instead GPML, especially case heteroscedasticity, Head Mayer (2014) highlight depending data structure exist cases GPML preferable PPML. example apply function gpml example dataset gravity resulting output shown following:","code":"fit5 <- gpml(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"comcur\", \"contig\"),   robust = TRUE,   data = gravity_no_zeros )  summary(fit5) ##     Estimate         Std. Error        z value          Pr(>|z|)         ##  Min.   :-0.1613   Min.   :0.1183   Min.   :-1.364   Min.   :0.000e+00   ##  1st Qu.: 0.7833   1st Qu.:0.1603   1st Qu.: 4.279   1st Qu.:0.000e+00   ##  Median : 1.0295   Median :0.1831   Median : 5.740   Median :1.000e-08   ##  Mean   : 2.1508   Mean   :0.3571   Mean   : 4.457   Mean   :3.453e-02   ##  3rd Qu.: 1.7065   3rd Qu.:0.2973   3rd Qu.: 6.424   3rd Qu.:1.879e-05   ##  Max.   : 7.3963   Max.   :1.0266   Max.   : 7.205   Max.   :1.726e-01"},{"path":"/articles/crash-course-on-gravity-models.html","id":"negative-binomial-pseudo-maximum-likelihood-nbpml","dir":"Articles","previous_headings":"Examples","what":"Negative Binomial Pseudo Maximum Likelihood (NBPML)","title":"A crash course on gravity models","text":"estimation method similar PPML, utilizes negative binomial instead poisson distribution, thereby implies different assumptions data structure allow zero trade values. example apply function nbpml example dataset gravity resulting output shown following:","code":"fit6 <- nbpml(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"comcur\", \"contig\"),   robust = TRUE,   data = gravity_no_zeros )  summary(fit6) ##     Estimate         Std. Error        z value          Pr(>|z|)         ##  Min.   :-0.1613   Min.   :0.1183   Min.   :-1.364   Min.   :0.000e+00   ##  1st Qu.: 0.7831   1st Qu.:0.1603   1st Qu.: 4.277   1st Qu.:0.000e+00   ##  Median : 1.0297   Median :0.1831   Median : 5.739   Median :1.000e-08   ##  Mean   : 2.1508   Mean   :0.3571   Mean   : 4.457   Mean   :3.454e-02   ##  3rd Qu.: 1.7064   3rd Qu.:0.2973   3rd Qu.: 6.425   3rd Qu.:1.893e-05   ##  Max.   : 7.3961   Max.   :1.0266   Max.   : 7.205   Max.   :1.727e-01"},{"path":"/articles/crash-course-on-gravity-models.html","id":"tetrads","dir":"Articles","previous_headings":"Examples","what":"Tetrads","title":"A crash course on gravity models","text":"order use fixed effects method panel data, huge number dummy variables included estimation. Thus, estimating models can lead significant computational difficulties. Head, Mayer, Ries (2010) present Tetrads estimation method circumventing problem. exploit multiplicative form gravity equation form ratio ratios. , MR terms drop equation. example apply function tetrads example dataset gravity resulting output shown following: addition robust standard errors previous examples, case tetrads can also interested computing multiway variance-covariance, can done adding multiway = T arguments:","code":"fit8 <- tetrads(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = \"rta\",   code_origin = \"iso_o\",   code_destination = \"iso_d\",   filter_origin = \"CHN\",   filter_destination = \"USA\",   data = gravity_no_zeros )  summary(fit8) ##  ## Call: ## y_log_rat ~ dist_log_rat + rta_rat ##  ## Residuals: ##      Min       1Q   Median       3Q      Max  ## -21.3989  -1.2542   0.3247   1.5871  10.3864  ##  ## Coefficients: ##              Estimate Std. Error t value Pr(>|t|)     ## (Intercept)  -0.39969    0.02162  -18.49   <2e-16 *** ## dist_log_rat -1.32417    0.02307  -57.40   <2e-16 *** ## rta_rat       0.88305    0.05566   15.87   <2e-16 *** ## --- ## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 ##  ## Residual standard error: 2.77 on 16710 degrees of freedom ## Multiple R-squared:  0.2537, Adjusted R-squared:  0.2536  ## F-statistic:  2840 on 2 and 16710 DF,  p-value: < 2.2e-16 fit8 <- tetrads(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = \"rta\",   code_origin = \"iso_o\",   code_destination = \"iso_d\",   filter_origin = \"CHN\",   filter_destination = \"USA\",   multiway = TRUE,   data = gravity_no_zeros )  summary(fit8) ##     Estimate         Std. Error         t value            Pr(>|t|)         ##  Min.   :-1.3242   Min.   :0.02152   Min.   :-53.6833   Min.   :0.000e+00   ##  1st Qu.:-0.8619   1st Qu.:0.02309   1st Qu.:-36.1287   1st Qu.:1.525e-76   ##  Median :-0.3997   Median :0.02467   Median :-18.5741   Median :3.049e-76   ##  Mean   :-0.2803   Mean   :0.03164   Mean   :-18.0460   Mean   :3.701e-73   ##  3rd Qu.: 0.2417   3rd Qu.:0.03670   3rd Qu.: -0.2273   3rd Qu.:5.552e-73   ##  Max.   : 0.8830   Max.   :0.04873   Max.   : 18.1195   Max.   :1.110e-72"},{"path":"/articles/crash-course-on-gravity-models.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"A crash course on gravity models","text":"Baier, Scott L., Jeffrey H. Bergstrand. 2009. “Bonus Vetus Ols: Simple Method Approximating International Trade-Cost Effects Using Gravity Equation.” Journal International Economics 77 (1): 77–85. https://doi.org/10.1016/j.jinteco.2008.10.004. Baier, S. L., J. H. Bergstrand. 2010. “Gravity Model International Trade: Advances Applications.” , edited Peter . G. van Bergeijk StevenEditors Brakman. Cambridge University Press. https://doi.org/10.1017/CBO9780511762109. Head, Keith, Thierry Mayer. 2014. “Chapter 3 - Gravity Equations: Workhorse,Toolkit, Cookbook.” Handbook International Economics, edited Gita Gopinath, Elhanan Helpman, Kenneth Rogoff, 4:131–95. Handbook International Economics. Elsevier. https://doi.org/10.1016/B978-0-444-54314-1.00003-3. Head, Keith, Thierry Mayer, John Ries. 2010. “Erosion Colonial Trade Linkages Independence.” Journal International Economics 81 (1): 1–14. https://doi.org/10.1016/j.jinteco.2010.01.002. Silva, J. M. C. Santos, Silvana Tenreyro. 2006. “Log Gravity.” Review Economics Statistics 88 (4): 641–58. https://doi.org/10.1162/rest.88.4.641. Wölwer, Anna-Lena, Martin Breßlein, Jan Pablo Burgard. 2018. “Gravity Models R.” Austrian Journal Statistics 47 (4): 16–35. https://doi.org/10.17713/ajs.v47i4.688.","code":""},{"path":"/articles/creating-gravity-datasets.html","id":"description","dir":"Articles","previous_headings":"","what":"Description","title":"Creating gravity datasets","text":"Gravity dataset zero trade flows edited version full gravity dataset used Head, Mayer, Ries (2010). Dataset gravity_no_zeros corresponds dataset without zero trade flows, gravity_zeros, hand, includes zero trade flows.","code":""},{"path":"/articles/creating-gravity-datasets.html","id":"details","dir":"Articles","previous_headings":"","what":"Details","title":"Creating gravity datasets","text":"order dataset suited functions, cross-sectional dataset chosen. incomplete rows observations missing trade flows therefore excluded dataset. functions package capable handling zero values trade flows , two datasets, gravity_zeros gravity_no_zeros, provided. original dataset downloaded SciencesPo original link available anymore. edited following way:","code":"# 1: Import and read the dataset  # As of 2022-09-25 the original link from Sciences Po is broken # I kept the zip on GitHub back in 2017, fortunately # url <- \"http://econ.sciences-po.fr/sites/default/files/file/tmayer/data/col_regfile09.zip\" url <- \"https://github.com/pachadotdev/gravity/blob/master/vignettes/col_regfile09.zip?raw=true\" zip <- \"col_regfile09.zip\"  if (!file.exists(zip)) {   try(download.file(url, zip)) } try(system(\"7z e -aos col_regfile09.zip\"))  library(haven) col_regfile09 <- read_dta(\"col_regfile09.dta\")  # 2: Isolation of one year  library(dplyr) data06 <- col_regfile09 %>%   filter(year == 2006)  # 3: Choosing variables  data06 <- data06 %>%   select(iso_o, iso_d, distw, gdp_o, gdp_d, rta, flow, contig, comlang_off, comcur)  # 4: Isolation of complete cases  library(tidyr) gravity_zeros <- data06 %>%   drop_na()  # 5: Exclusion of trade flows equal to 0  gravity_no_zeros <- gravity_zeros %>%   filter(flow > 0)  # 6: Export the data  save(gravity_zeros, file = \"gravity_zeros.rdata\", compress = \"xz\") save(gravity_no_zeros, file = \"gravity_no_zeros.rdata\", compress = \"xz\")"},{"path":"/articles/creating-gravity-datasets.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Creating gravity datasets","text":"Head, Keith, Thierry Mayer, John Ries. 2010. “Erosion Colonial Trade Linkages Independence.” Journal International Economics 81 (1): 1–14. https://doi.org/10.1016/j.jinteco.2010.01.002.","code":""},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Anna-Lena Woelwer. Author, copyright holder. Jan Pablo Burgard. Author, copyright holder. Joshua Kunst. Author, copyright holder. Mauricio Vargas. Author, maintainer, copyright holder. Romain Francois. Contributor.           adapted parts code use dplyr 0.8.0 Lionel Henry. Contributor.           simplified parts code Sarah Johnson. Contributor.           improved double demeaning function Hrisyana Doytchinova. Reviewer.           sent us different suggestions bug reports","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Woelwer , Burgard J, Kunst J, Vargas M (2024). gravity: Estimation Methods Gravity Models. R package version 1.2, http://pacha.dev/gravity/.","code":"@Manual{,   title = {gravity: Estimation Methods for Gravity Models},   author = {Anna-Lena Woelwer and Jan Pablo Burgard and Joshua Kunst and Mauricio Vargas},   year = {2024},   note = {R package version 1.2},   url = {http://pacha.dev/gravity/}, }"},{"path":[]},{"path":"/index.html","id":"about","dir":"","previous_headings":"","what":"About","title":"Estimation Methods for Gravity Models","text":"Gravity models used explain bilateral flows related sizes bilateral partners, measure distance influences interaction costs. underlying idea rather simple. greater masses two bodies smaller distance , stronger attraction. concept applied several research topics trade, migration foreign direct investment. Even though basic idea rather simple, gravity models can become complex regarding choice models estimation methods. especially gravity beginners difficult get overview different methods implement R, package provides wrapper different standard estimation methods gravity models. considering descriptions codes estimation methods, users get comprehensive application-oriented overview different methods, see method may suitable certain research question type data extend code available research projects. package provides estimation methods log-log models multiplicative models. Log-log estimation covers: Ordinary Least Squares (OLS) Fixed Effects Double Demeaning (DDM) Bonus vetus OLS simple averages (BVU) GDP-weights (BVW) Structural Iterated Least Squares (SILS) Tetrads Different Tobit models (Tobit, ET-Tobit, EK-Tobit) Log-log models partly complex understand program thus comparison straightforward, wherefore package aims easing overview different methods combined direct application. Multiplicative estimation covers: Poisson Pseudo Maximum Likelihood (PPML) Gamma Pseudo Maximum Likelihood (GPML) Negative Binomial Pseudo Maximum Likelihood (NBPML) Nonlinear Least Squares (NLS) Multiplicative models covered log-link different families distributions. models relatively easy compute. functions named estimate gravity models, differ whether estimate additive multiplicative form, requirements assumptions respect data, handling Multilateral Resistance terms well possibilities concerning inclusion unilateral independent variables. Therefore, normally lead different estimation results. refer user Gravity Cookbook website information gravity models general. Head Mayer (2014) provide comprehensive accessible overview theoretical empirical development gravity literature well use gravity models various estimation methods, especially merits potential problems regarding applicability well different datasets. order straightforward application methods, package comes two example datasets, one including one excluding zero trade flows. Examples utilizing dataset included description methods. range gravity models suitable estimation methods huge specific data research question hand, functions kept simple researchers can utilize starting point research get familiar . Gravity Cookbook website, Keith Head Thierry Mayer provide Stata code methods. possible, functions tested lead results Stata code choosing option robust variance estimation. However, compared Stata code available, functions presented package provide users flexibility regarding type estimation, number type independent variables well possible data. Furthermore, additional functions added. functions package include distance independent variable. panel model used time-invariant effects, geographical distance, may excluded; see respective descriptions. Therefore, user ensure functions can applied panel data. Depending panel dataset variables - specifically type fixed effects - included model, may easily occur model computable. Depending specific model, code respective function may changed order exclude distance variable estimation. state---art exposition cross-sectional data see Wölwer, Breßlein, Burgard (2018), comprehensive overview gravity models panel data see Egger Pfaffermayr (2003), Gómez-Herrera (2013) Head, Mayer, Ries (2010) well references therein (see also references included descriptions different functions). least, user take special care respect meaning estimated coefficients variances well decision effects include estimation. , knowledge moment, explicit literature covering estimation gravity equation Double Demeaning, Structural Iterated Least Squares Bonus vetus OLS using panel data, recommend apply methods case. Contributions, extensions error corrections welcome. Please hesitate contact us. thank Martin Bresslein valuable comments advice early versions package.","code":""},{"path":"/index.html","id":"how-to-install","dir":"","previous_headings":"","what":"How to install","title":"Estimation Methods for Gravity Models","text":"R console:","code":"# Install from CRAN install.packages(\"gravity\")  # Install from GitHub devtools::install_github(\"pachadotdev/gravity\")"},{"path":"/index.html","id":"community-guidelines","dir":"","previous_headings":"","what":"Community guidelines","title":"Estimation Methods for Gravity Models","text":"want contribute software, report issues problems software, please fork repo send us Pull Request open issue. happy receive ideas best coordinate efforts improve package without reinventing wheel. seek support questions can start thread issues section, can email us prefer open issues probably users questions .","code":""},{"path":"/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Estimation Methods for Gravity Models","text":"Egger, Peter, Michael Pfaffermayr. 2003. “Proper Panel Econometric Specification Gravity Equation: Three-Way Model Bilateral Interaction Effects.” Empirical Economics 28 (3): 571–80. https://doi.org/10.1007/s001810200146. Gómez-Herrera, Estrella. 2013. “Comparing Alternative Methods Estimate Gravity Models Bilateral Trade.” Empirical Economics 44 (3): 1087–1111. https://doi.org/10.1007/s00181-012-0576-2. Head, Keith, Thierry Mayer. 2014. “Chapter 3 - Gravity Equations: Workhorse,toolkit, Cookbook.” Handbook International Economics, edited Gita Gopinath, Elhanan Helpman, Kenneth Rogoff, 4:131–95. Handbook International Economics. Elsevier. https://doi.org/10.1016/B978-0-444-54314-1.00003-3. Head, Keith, Thierry Mayer, John Ries. 2010. “Erosion Colonial Trade Linkages Independence.” Journal International Economics 81 (1): 1–14. https://doi.org/10.1016/j.jinteco.2010.01.002. Wölwer, Anna-Lena, Martin Breßlein, Jan Pablo Burgard. 2018. “Gravity Models r.” Austrian Journal Statistics 47 (4): 16–35. https://doi.org/10.17713/ajs.v47i4.688.","code":""},{"path":"/reference/bvu.html","id":null,"dir":"Reference","previous_headings":"","what":"Bonus vetus OLS (BVU) — bvu","title":"Bonus vetus OLS (BVU) — bvu","text":"bvu estimates gravity models via Bonus vetus OLS simple averages.","code":""},{"path":"/reference/bvu.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bonus vetus OLS (BVU) — bvu","text":"","code":"bvu(   dependent_variable,   distance,   additional_regressors = NULL,   income_origin,   income_destination,   code_origin,   code_destination,   robust = FALSE,   data,   ... )"},{"path":"/reference/bvu.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bonus vetus OLS (BVU) — bvu","text":"dependent_variable (Type: character) name dependent variable. dependent variable divided product unilateral incomes (.e. income_origin income_destination) logged afterwards. distance (Type: character) name distance variable taken key independent variable estimation. distance logged automatically function executed. additional_regressors (Type: character) names additional regressors include model (e.g. dummy variable indicate contiguity). Unilateral metric variables GDP inserted via arguments income_origin income_destination. country specific effects subdued due demeaning, unilateral variables apart incomes can added. Write argument c(contiguity, common currency, ...). default set NULL. income_origin (Type: character) origin income variable (e.g. GDP) dataset. income_destination (Type: character) destination income variable (e.g. GDP) dataset. code_origin (Type: character) country origin variable (e.g. ISO-3 country codes). variables grouped using parameter. code_destination (Type: character) country destination variable (e.g. country ISO-3 codes). variables grouped using parameter. robust (Type: logical) whether robust fitting used. default set FALSE. data (Type: data.frame) dataset used. ... Additional arguments passed function.","code":""},{"path":"/reference/bvu.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bonus vetus OLS (BVU) — bvu","text":"function returns summary estimated gravity model lm-object.","code":""},{"path":"/reference/bvu.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Bonus vetus OLS (BVU) — bvu","text":"Bonus vetus OLS estimation method gravity models developed Baier Bergstrand (2009); Baier Bergstrand (2010)  using simple averages center Taylor-series. bvu function considers Multilateral Resistance terms allows conduct comparative statics. Country specific effects subdued due demeaning. Hence, unilateral variables apart incomes included estimation. bvu designed consistent Stata code provided Gravity Equations: Workhorse, Toolkit, Cookbook choosing robust estimation. , knowledge moment, explicit literature covering estimation gravity equation bvu using panel data, recommend apply method case.","code":""},{"path":"/reference/bvu.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Bonus vetus OLS (BVU) — bvu","text":"information gravity models, theoretical foundations estimation methods general see Anderson JE (1979). “Theoretical Foundation Gravity Equation.” American Economic Review, 69(1), 106–116. ISSN 00028282. Anderson JE, van Wincoop E (2001). “Gravity Gravitas: Solution Border Puzzle.” Working Paper 8079, National Bureau Economic Research. doi:10.3386/w8079 . Anderson JE (2010). “Gravity Model.” Working Paper 16576, National Bureau Economic Research. doi:10.3386/w16576 . Baier SL, Bergstrand JH (2009). “Bonus vetus OLS: simple method approximating international trade-cost effects using gravity equation.” Journal International Economics, 77(1), 77 - 85. ISSN 0022-1996, doi:10.1016/j.jinteco.2008.10.004 . Baier SL, Bergstrand JH (2010). “Gravity Model International Trade: Advances Applications.” van Bergeijk PAG, Brakman S (eds.), chapter 4. Cambridge University Press. doi:10.1017/CBO9780511762109 . Feenstra RC (2002). “Border effects gravity equation: consistent methods estimation.” Scottish Journal Political Economy, 49(5), 491–506. Head K, Mayer T, Ries J (2010). “erosion colonial trade linkages independence.” Journal International Economics, 81(1), 1 - 14. ISSN 0022-1996, doi:10.1016/j.jinteco.2010.01.002 . Head K, Mayer T (2014). “Chapter 3 - Gravity Equations: Workhorse,Toolkit, Cookbook.” Gopinath G, Helpman E, Rogoff K (eds.), Handbook International Economics, volume 4 Handbook International Economics, 131 - 195. Elsevier. doi:10.1016/B978-0-444-54314-1.00003-3 . Silva JMCS, Tenreyro S (2006). “Log Gravity.” Review Economics Statistics, 88(4), 641-658. doi:10.1162/rest.88.4.641 . citations therein. See Gravity Equations: Workhorse, Toolkit, Cookbook gravity datasets Stata code estimating gravity models. estimating gravity equations using panel data see Egger P, Pfaffermayr M (2003). “proper panel econometric specification gravity equation: three-way model bilateral interaction effects.” Empirical Economics, 28(3), 571–580. ISSN 1435-8921, doi:10.1007/s001810200146 . Gómez-Herrera E (2013). “Comparing alternative methods estimate gravity models bilateral trade.” Empirical Economics, 44(3), 1087–1111. ISSN 1435-8921, doi:10.1007/s00181-012-0576-2 . references therein.","code":""},{"path":[]},{"path":"/reference/bvu.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Bonus vetus OLS (BVU) — bvu","text":"","code":"# Example for CRAN checks: # Executable in < 5 sec  data(\"gravity_no_zeros\")  # Choose 5 countries for testing countries_chosen <- c(\"AUS\", \"CHN\", \"GBR\", \"BRA\", \"CAN\") grav_small <- subset(gravity_no_zeros, iso_o %in% countries_chosen)  fit <- bvu(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"contig\", \"comcur\"),   income_origin = \"gdp_o\",   income_destination = \"gdp_d\",   code_origin = \"iso_o\",   code_destination = \"iso_d\",   robust = FALSE,   data = grav_small )"},{"path":"/reference/bvw.html","id":null,"dir":"Reference","previous_headings":"","what":"Bonus vetus OLS (BVW) — bvw","title":"Bonus vetus OLS (BVW) — bvw","text":"bvw estimates gravity models via Bonus vetus OLS income-weights.","code":""},{"path":"/reference/bvw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bonus vetus OLS (BVW) — bvw","text":"","code":"bvw(   dependent_variable,   distance,   additional_regressors = NULL,   income_origin,   income_destination,   code_origin,   code_destination,   robust = FALSE,   data,   ... )"},{"path":"/reference/bvw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bonus vetus OLS (BVW) — bvw","text":"dependent_variable (Type: character) name dependent variable. dependent variable divided product unilateral incomes (.e. income_origin income_destination) logged afterwards. distance (Type: character) name distance variable taken key independent variable estimation. distance logged automatically function executed. additional_regressors (Type: character) names additional regressors include model (e.g. dummy variable indicate contiguity). Unilateral metric variables GDP inserted via arguments income_origin income_destination. country specific effects subdued due demeaning, unilateral variables apart incomes can added. Write argument c(contiguity, common currency, ...). default set NULL. income_origin (Type: character) origin income variable (e.g. GDP) dataset. income_destination (Type: character) destination income variable (e.g. GDP) dataset. code_origin (Type: character) country origin variable (e.g. ISO-3 country codes). variables grouped using parameter. code_destination (Type: character) country destination variable (e.g. country ISO-3 codes). variables grouped using parameter. robust (Type: logical) whether robust fitting used. default set FALSE. data (Type: data.frame) dataset used. ... Additional arguments passed function.","code":""},{"path":"/reference/bvw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bonus vetus OLS (BVW) — bvw","text":"function returns summary estimated gravity model lm-object.","code":""},{"path":"/reference/bvw.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Bonus vetus OLS (BVW) — bvw","text":"Bonus vetus OLS estimation method gravity models developed Baier Bergstrand (2009); Baier Bergstrand (2010)  using income-weights center Taylor series. bvw function considers Multilateral Resistance terms allows conduct comparative statics. Country specific effects subdued due demeaning. Hence, unilateral variables apart inc_o inc_d included estimation. bvw designed consistent Stata code provided Gravity Equations: Workhorse, Toolkit, Cookbook choosing robust estimation. , knowledge moment, explicit literature covering estimation gravity equation bvw using panel data, recommend apply method case.","code":""},{"path":"/reference/bvw.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Bonus vetus OLS (BVW) — bvw","text":"information gravity models, theoretical foundations estimation methods general see Anderson JE (1979). “Theoretical Foundation Gravity Equation.” American Economic Review, 69(1), 106–116. ISSN 00028282. Anderson JE, van Wincoop E (2001). “Gravity Gravitas: Solution Border Puzzle.” Working Paper 8079, National Bureau Economic Research. doi:10.3386/w8079 . Anderson JE (2010). “Gravity Model.” Working Paper 16576, National Bureau Economic Research. doi:10.3386/w16576 . Baier SL, Bergstrand JH (2009). “Bonus vetus OLS: simple method approximating international trade-cost effects using gravity equation.” Journal International Economics, 77(1), 77 - 85. ISSN 0022-1996, doi:10.1016/j.jinteco.2008.10.004 . Baier SL, Bergstrand JH (2010). “Gravity Model International Trade: Advances Applications.” van Bergeijk PAG, Brakman S (eds.), chapter 4. Cambridge University Press. doi:10.1017/CBO9780511762109 . Feenstra RC (2002). “Border effects gravity equation: consistent methods estimation.” Scottish Journal Political Economy, 49(5), 491–506. Head K, Mayer T, Ries J (2010). “erosion colonial trade linkages independence.” Journal International Economics, 81(1), 1 - 14. ISSN 0022-1996, doi:10.1016/j.jinteco.2010.01.002 . Head K, Mayer T (2014). “Chapter 3 - Gravity Equations: Workhorse,Toolkit, Cookbook.” Gopinath G, Helpman E, Rogoff K (eds.), Handbook International Economics, volume 4 Handbook International Economics, 131 - 195. Elsevier. doi:10.1016/B978-0-444-54314-1.00003-3 . Silva JMCS, Tenreyro S (2006). “Log Gravity.” Review Economics Statistics, 88(4), 641-658. doi:10.1162/rest.88.4.641 . citations therein. See Gravity Equations: Workhorse, Toolkit, Cookbook gravity datasets Stata code estimating gravity models. estimating gravity equations using panel data see Egger P, Pfaffermayr M (2003). “proper panel econometric specification gravity equation: three-way model bilateral interaction effects.” Empirical Economics, 28(3), 571–580. ISSN 1435-8921, doi:10.1007/s001810200146 . Gómez-Herrera E (2013). “Comparing alternative methods estimate gravity models bilateral trade.” Empirical Economics, 44(3), 1087–1111. ISSN 1435-8921, doi:10.1007/s00181-012-0576-2 . references therein.","code":""},{"path":[]},{"path":"/reference/bvw.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Bonus vetus OLS (BVW) — bvw","text":"","code":"# Example for CRAN checks: # Executable in < 5 sec  data(\"gravity_no_zeros\")  # Choose 5 countries for testing countries_chosen <- c(\"AUS\", \"CHN\", \"GBR\", \"BRA\", \"CAN\") grav_small <- subset(gravity_no_zeros, iso_o %in% countries_chosen)  fit <- bvw(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"comcur\", \"contig\"),   income_origin = \"gdp_o\",   income_destination = \"gdp_d\",   code_origin = \"iso_o\",   code_destination = \"iso_d\",   robust = FALSE,   data = grav_small )"},{"path":"/reference/ddm.html","id":null,"dir":"Reference","previous_headings":"","what":"Double Demeaning (DDM) — ddm","title":"Double Demeaning (DDM) — ddm","text":"ddm estimates gravity models via double demeaning left hand side right hand side gravity equation.","code":""},{"path":"/reference/ddm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Double Demeaning (DDM) — ddm","text":"","code":"ddm(   dependent_variable,   distance,   additional_regressors = NULL,   code_origin,   code_destination,   robust = FALSE,   data,   ... )"},{"path":"/reference/ddm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Double Demeaning (DDM) — ddm","text":"dependent_variable (Type: character) name dependent variable. dependent variable divided product unilateral incomes (.e. income_origin income_destination) logged afterwards. distance (Type: character) name distance variable taken key independent variable estimation. distance logged automatically function executed. additional_regressors (Type: character) names additional regressors include model (e.g. dummy variable indicate contiguity). Unilateral metric variables GDP inserted via arguments income_origin income_destination. country specific effects subdued due demeaning, unilateral variables apart incomes can added. Write argument c(contiguity, common currency, ...). default set NULL. code_origin (Type: character) country origin variable (e.g. ISO-3 country codes). variables grouped using parameter. code_destination (Type: character) country destination variable (e.g. country ISO-3 codes). variables grouped using parameter. robust (Type: logical) whether robust fitting used. default set FALSE. data (Type: data.frame) dataset used. ... Additional arguments passed function.","code":""},{"path":"/reference/ddm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Double Demeaning (DDM) — ddm","text":"function returns summary estimated gravity model lm-object.","code":""},{"path":"/reference/ddm.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Double Demeaning (DDM) — ddm","text":"ddm estimation method gravity models presented Head Mayer (2014) . Country specific effects subdued due double demeaning. Hence, unilateral income proxies GDP considered exogenous variables. Unilateral effect drop due double demeaning therefore estimated. ddm designed consistent Stata code provided Gravity Equations: Workhorse, Toolkit, Cookbook choosing robust estimation. , knowledge moment, explicit literature covering estimation gravity equation ddm using panel data, recommend apply method case.","code":""},{"path":"/reference/ddm.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Double Demeaning (DDM) — ddm","text":"information gravity models, theoretical foundations estimation methods general see Anderson JE (1979). “Theoretical Foundation Gravity Equation.” American Economic Review, 69(1), 106–116. ISSN 00028282. Anderson JE, van Wincoop E (2001). “Gravity Gravitas: Solution Border Puzzle.” Working Paper 8079, National Bureau Economic Research. doi:10.3386/w8079 . Anderson JE (2010). “Gravity Model.” Working Paper 16576, National Bureau Economic Research. doi:10.3386/w16576 . Baier SL, Bergstrand JH (2009). “Bonus vetus OLS: simple method approximating international trade-cost effects using gravity equation.” Journal International Economics, 77(1), 77 - 85. ISSN 0022-1996, doi:10.1016/j.jinteco.2008.10.004 . Baier SL, Bergstrand JH (2010). “Gravity Model International Trade: Advances Applications.” van Bergeijk PAG, Brakman S (eds.), chapter 4. Cambridge University Press. doi:10.1017/CBO9780511762109 . Feenstra RC (2002). “Border effects gravity equation: consistent methods estimation.” Scottish Journal Political Economy, 49(5), 491–506. Head K, Mayer T, Ries J (2010). “erosion colonial trade linkages independence.” Journal International Economics, 81(1), 1 - 14. ISSN 0022-1996, doi:10.1016/j.jinteco.2010.01.002 . Head K, Mayer T (2014). “Chapter 3 - Gravity Equations: Workhorse,Toolkit, Cookbook.” Gopinath G, Helpman E, Rogoff K (eds.), Handbook International Economics, volume 4 Handbook International Economics, 131 - 195. Elsevier. doi:10.1016/B978-0-444-54314-1.00003-3 . Silva JMCS, Tenreyro S (2006). “Log Gravity.” Review Economics Statistics, 88(4), 641-658. doi:10.1162/rest.88.4.641 . citations therein. See Gravity Equations: Workhorse, Toolkit, Cookbook gravity datasets Stata code estimating gravity models. estimating gravity equations using panel data see Egger P, Pfaffermayr M (2003). “proper panel econometric specification gravity equation: three-way model bilateral interaction effects.” Empirical Economics, 28(3), 571–580. ISSN 1435-8921, doi:10.1007/s001810200146 . Gómez-Herrera E (2013). “Comparing alternative methods estimate gravity models bilateral trade.” Empirical Economics, 44(3), 1087–1111. ISSN 1435-8921, doi:10.1007/s00181-012-0576-2 . references therein.","code":""},{"path":[]},{"path":"/reference/ddm.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Double Demeaning (DDM) — ddm","text":"","code":"# Example for CRAN checks: # Executable in < 5 sec  data(\"gravity_no_zeros\")  # Choose 5 countries for testing countries_chosen <- c(\"AUS\", \"CHN\", \"GBR\", \"BRA\", \"CAN\") grav_small <- subset(gravity_no_zeros, iso_o %in% countries_chosen)  fit <- ddm(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"comcur\", \"contig\"),   code_origin = \"iso_o\",   code_destination = \"iso_d\",   robust = FALSE,   data = grav_small )"},{"path":"/reference/discard_unusable.html","id":null,"dir":"Reference","previous_headings":"","what":"Discard non-positive and/or non-finite observations in datasets — discard_unusable","title":"Discard non-positive and/or non-finite observations in datasets — discard_unusable","text":"discard_unusable drops observations used models convert columns log scale, therefore requiere non-negative finite observations. Consider functions within package drop observations required requiered run fitting model.","code":""},{"path":"/reference/discard_unusable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Discard non-positive and/or non-finite observations in datasets — discard_unusable","text":"","code":"discard_unusable(data, columns)"},{"path":"/reference/discard_unusable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Discard non-positive and/or non-finite observations in datasets — discard_unusable","text":"data (Type: data.frame) dataset used. columns columns cleaned (e.g. c(\"flow\", \"distw\")) case ddm used example dataset gravity_zeros)","code":""},{"path":"/reference/discard_unusable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Discard non-positive and/or non-finite observations in datasets — discard_unusable","text":"function returns summary estimated gravity model lm-object.","code":""},{"path":[]},{"path":"/reference/discard_unusable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Discard non-positive and/or non-finite observations in datasets — discard_unusable","text":"","code":"discard_unusable(gravity_zeros, \"flow\") #> # A tibble: 17,088 × 10 #>    iso_o iso_d  distw gdp_o   gdp_d   rta      flow contig comlang_off comcur #>    <chr> <chr>  <dbl> <dbl>   <dbl> <dbl>     <dbl>  <dbl>       <dbl>  <dbl> #>  1 AFG   ARG   15341. 8399. 214058.     0 0.061          0           0      0 #>  2 AFG   AUS   11086. 8399. 768178.     0 0.406          0           0      0 #>  3 AFG   AUT    4567. 8399. 322444.     0 0.165          0           0      0 #>  4 AFG   AZE    1822. 8399.  20122.     0 0.00160        0           0      0 #>  5 AFG   BEL    5332. 8399. 392001.     0 4.16           0           0      0 #>  6 AFG   BFA    7464. 8399.   6205.     0 0.00103        0           0      0 #>  7 AFG   BGD    2489. 8399.  61961.     0 3.02           0           0      0 #>  8 AFG   BGR    3819. 8399.  31483      0 0.0197         0           0      0 #>  9 AFG   BLR    3766. 8399.  36945.     0 1.43           0           0      0 #> 10 AFG   BOL   15101. 8399.  11163.     0 0.0000837      0           0      0 #> # ℹ 17,078 more rows discard_unusable(gravity_zeros, c(\"flow\", \"distw\")) #> # A tibble: 17,088 × 10 #>    iso_o iso_d  distw gdp_o   gdp_d   rta      flow contig comlang_off comcur #>    <chr> <chr>  <dbl> <dbl>   <dbl> <dbl>     <dbl>  <dbl>       <dbl>  <dbl> #>  1 AFG   ARG   15341. 8399. 214058.     0 0.061          0           0      0 #>  2 AFG   AUS   11086. 8399. 768178.     0 0.406          0           0      0 #>  3 AFG   AUT    4567. 8399. 322444.     0 0.165          0           0      0 #>  4 AFG   AZE    1822. 8399.  20122.     0 0.00160        0           0      0 #>  5 AFG   BEL    5332. 8399. 392001.     0 4.16           0           0      0 #>  6 AFG   BFA    7464. 8399.   6205.     0 0.00103        0           0      0 #>  7 AFG   BGD    2489. 8399.  61961.     0 3.02           0           0      0 #>  8 AFG   BGR    3819. 8399.  31483      0 0.0197         0           0      0 #>  9 AFG   BLR    3766. 8399.  36945.     0 1.43           0           0      0 #> 10 AFG   BOL   15101. 8399.  11163.     0 0.0000837      0           0      0 #> # ℹ 17,078 more rows"},{"path":"/reference/ek_tobit.html","id":null,"dir":"Reference","previous_headings":"","what":"Eaton and Kortum (2001) Tobit model (EK Tobit) — ek_tobit","title":"Eaton and Kortum (2001) Tobit model (EK Tobit) — ek_tobit","text":"ek_tobit estimates gravity models additive form conducting censored regression.","code":""},{"path":"/reference/ek_tobit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Eaton and Kortum (2001) Tobit model (EK Tobit) — ek_tobit","text":"","code":"ek_tobit(   dependent_variable,   distance,   additional_regressors = NULL,   code_destination,   robust = FALSE,   data,   ... )"},{"path":"/reference/ek_tobit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Eaton and Kortum (2001) Tobit model (EK Tobit) — ek_tobit","text":"dependent_variable (Type: character) name dependent variable. variable logged used dependent variable estimation. log zero defined, flows equal zero replaced left open interval logged minimum trade flow respective importing country right border. distance (Type: character) name distance variable taken key independent variable estimation. distance logged automatically function executed. additional_regressors (Type: character) names additional regressors include model (e.g. dummy variable indicate contiguity). Unilateral metric variables GDP inserted via arguments income_origin income_destination. Write argument c(contiguity, common currency, ...). default set NULL. code_destination (Type: character) country destination variable (e.g. country ISO-3 codes). variables grouped using parameter. robust (Type: logical) whether robust fitting used. default set FALSE. data (Type: data.frame) dataset used. ... Additional arguments passed function.","code":""},{"path":"/reference/ek_tobit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Eaton and Kortum (2001) Tobit model (EK Tobit) — ek_tobit","text":"function returns summary estimated gravity model survreg-object.","code":""},{"path":"/reference/ek_tobit.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Eaton and Kortum (2001) Tobit model (EK Tobit) — ek_tobit","text":"ek_tobit represents Eaton Kortum (2001)  Tobit model country assigned specific censoring bounds. taking log gravity equation flows equal zero constitute problem log defined. Therefore, ek_tobit values dependent variable redefined intervals. positive observations interval bounds equal original value. zero flows interval left open. right border interval set log minimum positive trade flow respective importing country. defined data object class Surv inserted survreg parameter estimation. ek_tobit designed consistent Stata code provided Gravity Equations: Workhorse, Toolkit, Cookbook choosing robust estimation. Tobit functions, see tobit simple Tobit model number 1 added observations et_tobit Eaton Tamura (1995)  threshold Tobit model instead simply adding number 1 data threshold estimated. function designed cross-sectional data, can extended panel data using survreg function.","code":""},{"path":"/reference/ek_tobit.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Eaton and Kortum (2001) Tobit model (EK Tobit) — ek_tobit","text":"information gravity models, theoretical foundations estimation methods general see Anderson JE (1979). “Theoretical Foundation Gravity Equation.” American Economic Review, 69(1), 106–116. ISSN 00028282. Anderson JE, van Wincoop E (2001). “Gravity Gravitas: Solution Border Puzzle.” Working Paper 8079, National Bureau Economic Research. doi:10.3386/w8079 . Anderson JE (2010). “Gravity Model.” Working Paper 16576, National Bureau Economic Research. doi:10.3386/w16576 . Baier SL, Bergstrand JH (2009). “Bonus vetus OLS: simple method approximating international trade-cost effects using gravity equation.” Journal International Economics, 77(1), 77 - 85. ISSN 0022-1996, doi:10.1016/j.jinteco.2008.10.004 . Baier SL, Bergstrand JH (2010). “Gravity Model International Trade: Advances Applications.” van Bergeijk PAG, Brakman S (eds.), chapter 4. Cambridge University Press. doi:10.1017/CBO9780511762109 . Feenstra RC (2002). “Border effects gravity equation: consistent methods estimation.” Scottish Journal Political Economy, 49(5), 491–506. Head K, Mayer T, Ries J (2010). “erosion colonial trade linkages independence.” Journal International Economics, 81(1), 1 - 14. ISSN 0022-1996, doi:10.1016/j.jinteco.2010.01.002 . Head K, Mayer T (2014). “Chapter 3 - Gravity Equations: Workhorse,Toolkit, Cookbook.” Gopinath G, Helpman E, Rogoff K (eds.), Handbook International Economics, volume 4 Handbook International Economics, 131 - 195. Elsevier. doi:10.1016/B978-0-444-54314-1.00003-3 . Silva JMCS, Tenreyro S (2006). “Log Gravity.” Review Economics Statistics, 88(4), 641-658. doi:10.1162/rest.88.4.641 . citations therein. See Gravity Equations: Workhorse, Toolkit, Cookbook gravity datasets Stata code estimating gravity models. estimating gravity equations using panel data see Egger P, Pfaffermayr M (2003). “proper panel econometric specification gravity equation: three-way model bilateral interaction effects.” Empirical Economics, 28(3), 571–580. ISSN 1435-8921, doi:10.1007/s001810200146 . Gómez-Herrera E (2013). “Comparing alternative methods estimate gravity models bilateral trade.” Empirical Economics, 44(3), 1087–1111. ISSN 1435-8921, doi:10.1007/s00181-012-0576-2 . references therein.","code":""},{"path":[]},{"path":"/reference/ek_tobit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Eaton and Kortum (2001) Tobit model (EK Tobit) — ek_tobit","text":"","code":"# Example for CRAN checks: # Executable in < 5 sec  data(\"gravity_no_zeros\")  # Choose 5 countries for testing countries_chosen <- c(\"AUS\", \"CHN\", \"GBR\", \"BRA\", \"CAN\") grav_small <- subset(gravity_no_zeros, iso_o %in% countries_chosen)  grav_small$flow <- ifelse(grav_small$flow < 5, 0, grav_small$flow) grav_small$lgdp_o <- log(grav_small$gdp_o) grav_small$lgdp_d <- log(grav_small$gdp_d)  fit <- ek_tobit(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"distw\", \"rta\", \"lgdp_o\", \"lgdp_d\"),   code_destination = \"iso_d\",   robust = FALSE,   data = grav_small ) #> Warning: There were 4 warnings in `mutate()`. #> The first warning was: #> ℹ In argument: `exportmin = min(y_log_ek, na.rm = TRUE)`. #> ℹ In group 21: `iso_d = \"BTN\"`. #> Caused by warning in `min()`: #> ! no non-missing arguments to min; returning Inf #> ℹ Run `dplyr::last_dplyr_warnings()` to see the 3 remaining warnings."},{"path":"/reference/et_tobit.html","id":null,"dir":"Reference","previous_headings":"","what":"Eaton and Tamura (1995) threshold Tobit model (ET Tobit) — et_tobit","title":"Eaton and Tamura (1995) threshold Tobit model (ET Tobit) — et_tobit","text":"et_tobit estimates gravity models additive form conducting left-censored regression.","code":""},{"path":"/reference/et_tobit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Eaton and Tamura (1995) threshold Tobit model (ET Tobit) — et_tobit","text":"","code":"et_tobit(dependent_variable, distance, additional_regressors = NULL, data, ...)"},{"path":"/reference/et_tobit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Eaton and Tamura (1995) threshold Tobit model (ET Tobit) — et_tobit","text":"dependent_variable (Type: character) name dependent variable. Following Carson Sun (2007) , smallest positive flow value used estimate threshold, value added dependent_variable, result logged taken dependent variable Tobit estimation lower bound equal log smallest possible flow value. distance (Type: character) name distance variable taken key independent variable estimation. distance logged automatically function executed. additional_regressors (Type: character) names additional regressors include model (e.g. dummy variable indicate contiguity). Unilateral metric variables GDP inserted via arguments income_origin income_destination. Write argument c(contiguity, common currency, ...). default set NULL. data (Type: data.frame) dataset used. ... Additional arguments passed function.","code":""},{"path":"/reference/et_tobit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Eaton and Tamura (1995) threshold Tobit model (ET Tobit) — et_tobit","text":"function returns summary estimated gravity model censReg-object.","code":""},{"path":"/reference/et_tobit.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Eaton and Tamura (1995) threshold Tobit model (ET Tobit) — et_tobit","text":"et_tobit represents Eaton Tamura (1995)  Tobit model often used several gravity models compared, instead adding number 1 dependent variable done tobit, constant added data estimated interpreted threshold. taking log gravity equation flows equal zero constitute problem log defined. Therefore, constant added flows. Compared usual ET-Tobit approaches, package, estimation threshold done parameters estimated. follow Carson Sun (2007) , show taking minimum positive flow value estimate threshold super-consistent using threshold estimate ensures parameter MLE asymptotically normal asymptotic variance identical variance achieved threshold known. Hence, first threshold estimated minimum positive flow. threshold added flow variable, logged afterwards taken dependent variable. Tobit estimation conducted using censReg function setting lower bound equal log minimum positive flow value added observations. Tobit regression represents combination binary linear regression. procedure taken consideration interpreting estimated coefficients. marginal effects explanatory variable expected value dependent variable equals product probability latent variable exceeding threshold marginal effect explanatory variable expected value latent variable. elaborate Tobit function, see ek_tobit Eaton Kortum (2001) Tobit model zero trade volume assigned country specific interval upper bound equal minimum positive trade level respective importing country. function designed cross-sectional data, can extended panel data using censReg function. robust estimations implemented present censReg function compatible vcovHC function.","code":""},{"path":"/reference/et_tobit.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Eaton and Tamura (1995) threshold Tobit model (ET Tobit) — et_tobit","text":"information gravity models, theoretical foundations estimation methods general see Anderson JE (1979). “Theoretical Foundation Gravity Equation.” American Economic Review, 69(1), 106–116. ISSN 00028282. Anderson JE, van Wincoop E (2001). “Gravity Gravitas: Solution Border Puzzle.” Working Paper 8079, National Bureau Economic Research. doi:10.3386/w8079 . Anderson JE (2010). “Gravity Model.” Working Paper 16576, National Bureau Economic Research. doi:10.3386/w16576 . Baier SL, Bergstrand JH (2009). “Bonus vetus OLS: simple method approximating international trade-cost effects using gravity equation.” Journal International Economics, 77(1), 77 - 85. ISSN 0022-1996, doi:10.1016/j.jinteco.2008.10.004 . Baier SL, Bergstrand JH (2010). “Gravity Model International Trade: Advances Applications.” van Bergeijk PAG, Brakman S (eds.), chapter 4. Cambridge University Press. doi:10.1017/CBO9780511762109 . Feenstra RC (2002). “Border effects gravity equation: consistent methods estimation.” Scottish Journal Political Economy, 49(5), 491–506. Head K, Mayer T, Ries J (2010). “erosion colonial trade linkages independence.” Journal International Economics, 81(1), 1 - 14. ISSN 0022-1996, doi:10.1016/j.jinteco.2010.01.002 . Head K, Mayer T (2014). “Chapter 3 - Gravity Equations: Workhorse,Toolkit, Cookbook.” Gopinath G, Helpman E, Rogoff K (eds.), Handbook International Economics, volume 4 Handbook International Economics, 131 - 195. Elsevier. doi:10.1016/B978-0-444-54314-1.00003-3 . Silva JMCS, Tenreyro S (2006). “Log Gravity.” Review Economics Statistics, 88(4), 641-658. doi:10.1162/rest.88.4.641 . citations therein. See Gravity Equations: Workhorse, Toolkit, Cookbook gravity datasets Stata code estimating gravity models. estimating gravity equations using panel data see Egger P, Pfaffermayr M (2003). “proper panel econometric specification gravity equation: three-way model bilateral interaction effects.” Empirical Economics, 28(3), 571–580. ISSN 1435-8921, doi:10.1007/s001810200146 . Gómez-Herrera E (2013). “Comparing alternative methods estimate gravity models bilateral trade.” Empirical Economics, 44(3), 1087–1111. ISSN 1435-8921, doi:10.1007/s00181-012-0576-2 . references therein.","code":""},{"path":[]},{"path":"/reference/et_tobit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Eaton and Tamura (1995) threshold Tobit model (ET Tobit) — et_tobit","text":"","code":"# Example for CRAN checks: # Executable in < 5 sec  data(\"gravity_no_zeros\")  # Choose 5 countries for testing countries_chosen <- c(\"AUS\", \"CHN\", \"GBR\", \"BRA\", \"CAN\") grav_small <- subset(gravity_no_zeros, iso_o %in% countries_chosen)  grav_small$flow <- ifelse(grav_small$flow < 5, 0, grav_small$flow) grav_small$lgdp_o <- log(grav_small$gdp_o) grav_small$lgdp_d <- log(grav_small$gdp_d)  fit <- et_tobit(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"lgdp_o\", \"lgdp_d\"),   data = grav_small )"},{"path":"/reference/fixed_effects.html","id":null,"dir":"Reference","previous_headings":"","what":"Fixed Effects — fixed_effects","title":"Fixed Effects — fixed_effects","text":"fixed_effects estimates gravity models via OLS fixed effects countries origin destination.","code":""},{"path":"/reference/fixed_effects.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fixed Effects — fixed_effects","text":"","code":"fixed_effects(   dependent_variable,   distance,   additional_regressors = NULL,   code_origin,   code_destination,   robust = FALSE,   data,   ... )"},{"path":"/reference/fixed_effects.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fixed Effects — fixed_effects","text":"dependent_variable (Type: character) name dependent variable. variable logged used dependent variable estimation. distance (Type: character) name distance variable taken key independent variable estimation. distance logged automatically function executed. additional_regressors (Type: character) names additional regressors include model (e.g. dummy variable indicate contiguity). Unilateral metric variables GDPs can added variables logged first. Write argument c(contiguity, common currency, ...). default set NULL. code_origin (Type: character) country origin variable (e.g. ISO-3 country codes). variables grouped using parameter. code_destination (Type: character) country destination variable (e.g. country ISO-3 codes). variables grouped using parameter. robust (Type: logical) whether robust fitting used. default set FALSE. data (Type: data.frame) dataset used. ... Additional arguments passed function.","code":""},{"path":"/reference/fixed_effects.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fixed Effects — fixed_effects","text":"function returns summary estimated gravity model lm-object.","code":""},{"path":"/reference/fixed_effects.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fixed Effects — fixed_effects","text":"account MR terms, Feenstra (2002)  Feenstra (2015)  propose use importer exporter fixed effects. Due use effects, unilateral influences GDPs can longer estimated. disadvantage use fixed_effects , applied panel data, number country-year country-pair fixed effects can high estimation. addition, comparative statistics possible fixed_effects Multilateral Resistance terms estimated explicitly. Nevertheless, Head Mayer (2014)  highlight importance use fixed effects. including country specific fixed effects, monadic effects captured, including Multilateral Resistance terms. Therefore, unilateral variables GDP can included independent variables estimation. fixed_effects estimation can used , cross-sectional well panel data. Nonetheless, function designed consistent Stata code cross-sectional data provided website Gravity Equations: Workhorse, Toolkit, Cookbook choosing robust estimation. function fixed_effects therefore tested cross-sectional data. user ensure functions can applied panel data. Also, note including bilateral fixed effects country-pair effects, coefficients time-invariant observables distance can longer estimated. Depending specific model, code respective function might changed order exclude distance variable estimation. least, user take special care respect meaning estimated coefficients variances well decision effects include estimation. using panel data, parameter variance estimation models may changed accordingly. comprehensive overview gravity models panel data see Egger Pfaffermayr (2003) , Gómez-Herrera (2013)  Head et al. (2010)  well references therein.","code":""},{"path":"/reference/fixed_effects.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Fixed Effects — fixed_effects","text":"information gravity models, theoretical foundations estimation methods general see Anderson JE (1979). “Theoretical Foundation Gravity Equation.” American Economic Review, 69(1), 106–116. ISSN 00028282. Anderson JE, van Wincoop E (2001). “Gravity Gravitas: Solution Border Puzzle.” Working Paper 8079, National Bureau Economic Research. doi:10.3386/w8079 . Anderson JE (2010). “Gravity Model.” Working Paper 16576, National Bureau Economic Research. doi:10.3386/w16576 . Baier SL, Bergstrand JH (2009). “Bonus vetus OLS: simple method approximating international trade-cost effects using gravity equation.” Journal International Economics, 77(1), 77 - 85. ISSN 0022-1996, doi:10.1016/j.jinteco.2008.10.004 . Baier SL, Bergstrand JH (2010). “Gravity Model International Trade: Advances Applications.” van Bergeijk PAG, Brakman S (eds.), chapter 4. Cambridge University Press. doi:10.1017/CBO9780511762109 . Feenstra RC (2002). “Border effects gravity equation: consistent methods estimation.” Scottish Journal Political Economy, 49(5), 491–506. Head K, Mayer T, Ries J (2010). “erosion colonial trade linkages independence.” Journal International Economics, 81(1), 1 - 14. ISSN 0022-1996, doi:10.1016/j.jinteco.2010.01.002 . Head K, Mayer T (2014). “Chapter 3 - Gravity Equations: Workhorse,Toolkit, Cookbook.” Gopinath G, Helpman E, Rogoff K (eds.), Handbook International Economics, volume 4 Handbook International Economics, 131 - 195. Elsevier. doi:10.1016/B978-0-444-54314-1.00003-3 . Silva JMCS, Tenreyro S (2006). “Log Gravity.” Review Economics Statistics, 88(4), 641-658. doi:10.1162/rest.88.4.641 . citations therein. See Gravity Equations: Workhorse, Toolkit, Cookbook gravity datasets Stata code estimating gravity models. estimating gravity equations using panel data see Egger P, Pfaffermayr M (2003). “proper panel econometric specification gravity equation: three-way model bilateral interaction effects.” Empirical Economics, 28(3), 571–580. ISSN 1435-8921, doi:10.1007/s001810200146 . Gómez-Herrera E (2013). “Comparing alternative methods estimate gravity models bilateral trade.” Empirical Economics, 44(3), 1087–1111. ISSN 1435-8921, doi:10.1007/s00181-012-0576-2 . references therein.","code":""},{"path":[]},{"path":"/reference/fixed_effects.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fixed Effects — fixed_effects","text":"","code":"# Example for CRAN checks: # Executable in < 5 sec  data(\"gravity_no_zeros\")  # Choose 5 countries for testing countries_chosen <- c(\"AUS\", \"CHN\", \"GBR\", \"BRA\", \"CAN\") grav_small <- subset(gravity_no_zeros, iso_o %in% countries_chosen)  fit <- fixed_effects(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"comcur\", \"contig\"),   code_origin = \"iso_o\",   code_destination = \"iso_d\",   robust = FALSE,   data = grav_small )"},{"path":"/reference/gpml.html","id":null,"dir":"Reference","previous_headings":"","what":"Gamma Pseudo Maximum Likelihood (GPML) — gpml","title":"Gamma Pseudo Maximum Likelihood (GPML) — gpml","text":"gpml estimates gravity models multiplicative form via Gamma Pseudo Maximum Likelihood.","code":""},{"path":"/reference/gpml.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gamma Pseudo Maximum Likelihood (GPML) — gpml","text":"","code":"gpml(   dependent_variable,   distance,   additional_regressors = NULL,   robust = FALSE,   data,   ... )"},{"path":"/reference/gpml.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gamma Pseudo Maximum Likelihood (GPML) — gpml","text":"dependent_variable (Type: character) name dependent variable. variable logged used dependent variable estimation. distance (Type: character) name distance variable taken key independent variable estimation. distance logged automatically function executed. additional_regressors (Type: character) names additional regressors include model (e.g. dummy variable indicate contiguity). Unilateral metric variables GDPs can added variables logged first. Interaction terms can added. Write argument c(contiguity, common currency, ...). default set NULL. robust (Type: logical) whether robust fitting used. default set FALSE. data (Type: data.frame) dataset used. ... Additional arguments passed function.","code":""},{"path":"/reference/gpml.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gamma Pseudo Maximum Likelihood (GPML) — gpml","text":"function returns summary estimated gravity model similar glm-object.","code":""},{"path":"/reference/gpml.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Gamma Pseudo Maximum Likelihood (GPML) — gpml","text":"gpml estimation method gravity models belonging generalized linear models. described Silva Tenreyro (2006)  model estimated via glm2 using gamma distribution log-link. similar functions, utilizing multiplicative form via log-link, different distributions, see ppml, nls, nbpml. gpml estimation can used , cross-sectional well panel data, user ensure functions can applied panel data. Depending panel dataset variables - specifically type fixed effects - included model, may easily occur model computable. Also, note including bilateral fixed effects country-pair effects, coefficients time-invariant observables distance can longer estimated. Depending specific model, code respective function might changed order exclude distance variable estimation. least, user take special care respect meaning estimated coefficients variances well decision effects include estimation. using panel data, parameter variance estimation models may changed accordingly. comprehensive overview gravity models panel data see Egger Pfaffermayr (2003) , Gómez-Herrera (2013)  Head et al. (2010) .","code":""},{"path":"/reference/gpml.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Gamma Pseudo Maximum Likelihood (GPML) — gpml","text":"information gravity models, theoretical foundations estimation methods general see Anderson JE (1979). “Theoretical Foundation Gravity Equation.” American Economic Review, 69(1), 106–116. ISSN 00028282. Anderson JE, van Wincoop E (2001). “Gravity Gravitas: Solution Border Puzzle.” Working Paper 8079, National Bureau Economic Research. doi:10.3386/w8079 . Anderson JE (2010). “Gravity Model.” Working Paper 16576, National Bureau Economic Research. doi:10.3386/w16576 . Baier SL, Bergstrand JH (2009). “Bonus vetus OLS: simple method approximating international trade-cost effects using gravity equation.” Journal International Economics, 77(1), 77 - 85. ISSN 0022-1996, doi:10.1016/j.jinteco.2008.10.004 . Baier SL, Bergstrand JH (2010). “Gravity Model International Trade: Advances Applications.” van Bergeijk PAG, Brakman S (eds.), chapter 4. Cambridge University Press. doi:10.1017/CBO9780511762109 . Feenstra RC (2002). “Border effects gravity equation: consistent methods estimation.” Scottish Journal Political Economy, 49(5), 491–506. Head K, Mayer T, Ries J (2010). “erosion colonial trade linkages independence.” Journal International Economics, 81(1), 1 - 14. ISSN 0022-1996, doi:10.1016/j.jinteco.2010.01.002 . Head K, Mayer T (2014). “Chapter 3 - Gravity Equations: Workhorse,Toolkit, Cookbook.” Gopinath G, Helpman E, Rogoff K (eds.), Handbook International Economics, volume 4 Handbook International Economics, 131 - 195. Elsevier. doi:10.1016/B978-0-444-54314-1.00003-3 . Silva JMCS, Tenreyro S (2006). “Log Gravity.” Review Economics Statistics, 88(4), 641-658. doi:10.1162/rest.88.4.641 . citations therein. See Gravity Equations: Workhorse, Toolkit, Cookbook gravity datasets Stata code estimating gravity models. estimating gravity equations using panel data see Egger P, Pfaffermayr M (2003). “proper panel econometric specification gravity equation: three-way model bilateral interaction effects.” Empirical Economics, 28(3), 571–580. ISSN 1435-8921, doi:10.1007/s001810200146 . Gómez-Herrera E (2013). “Comparing alternative methods estimate gravity models bilateral trade.” Empirical Economics, 44(3), 1087–1111. ISSN 1435-8921, doi:10.1007/s00181-012-0576-2 . references therein.","code":""},{"path":[]},{"path":"/reference/gpml.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Gamma Pseudo Maximum Likelihood (GPML) — gpml","text":"","code":"# Example for CRAN checks: # Executable in < 5 sec  data(\"gravity_no_zeros\")  # Choose 5 countries for testing countries_chosen <- c(\"AUS\", \"CHN\", \"GBR\", \"BRA\", \"CAN\") grav_small <- subset(gravity_no_zeros, iso_o %in% countries_chosen)  grav_small$lgdp_o <- log(grav_small$gdp_o) grav_small$lgdp_d <- log(grav_small$gdp_d)  fit <- gpml(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"iso_o\", \"iso_d\"),   data = grav_small )"},{"path":"/reference/gravity-exports.html","id":null,"dir":"Reference","previous_headings":"","what":"gravity exported operators and S3 methods The following functions are imported and then re-exported from the gravity package to avoid listing Depends of gravity. — gravity-exports","title":"gravity exported operators and S3 methods The following functions are imported and then re-exported from the gravity package to avoid listing Depends of gravity. — gravity-exports","text":"gravity exported operators S3 methods following functions imported re-exported gravity package avoid listing Depends gravity.","code":""},{"path":"/reference/gravity_no_zeros.html","id":null,"dir":"Reference","previous_headings":"","what":"Gravity dataset without zero trade flows — gravity_no_zeros","title":"Gravity dataset without zero trade flows — gravity_no_zeros","text":"edited version full gravity dataset: \"square\" gravity dataset possible pairs Countries worldwide, 1948-2006, used article: Head, K., T. Mayer J. Ries, 2010, \"erosion colonial linkages independence\". Journal International Economics, 81(1):1-14 (lead article).   Dataset gravity_no_zeros corresponds dataset without zero trade flows, gravity_zeros, hand, includes zero trade flows.","code":""},{"path":"/reference/gravity_no_zeros.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gravity dataset without zero trade flows — gravity_no_zeros","text":"","code":"data(\"gravity_no_zeros\")"},{"path":"/reference/gravity_no_zeros.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Gravity dataset without zero trade flows — gravity_no_zeros","text":"data frame 17088 observations following 10 variables. iso_o ISO-Code country origin iso_d ISO-Code country destination distw weighted distance gdp_o GDP country origin million dollars gdp_d GDP country destination million dollars rta regional trade agreement dummy flow trade flow million dollars contig contiguity dummy comlang_off common official language dummy comcur common currency dummy","code":""},{"path":"/reference/gravity_no_zeros.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Gravity dataset without zero trade flows — gravity_no_zeros","text":"https://sites.google.com/site/hiegravity/data-sources","code":""},{"path":"/reference/gravity_no_zeros.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Gravity dataset without zero trade flows — gravity_no_zeros","text":"Head, K. Mayer, T. (2014). Chapter 3 - gravity equations:   Workhorse,toolkit, cookbook.   Gita Gopinath, E. H. Rogoff, K., editors,   Handbook International Economics, volume 4 Handbook International   Economics, pages 131-195. Elsevier.   (Gravity Equations: Workhorse, Toolkit, Cookbook) Head, K., T. Mayer J. Ries, 2010, \"erosion od colonial linkages   independence\". Journal International Economics, 81(1):1-14   (lead article).","code":""},{"path":"/reference/gravity_no_zeros.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Gravity dataset without zero trade flows — gravity_no_zeros","text":"","code":"data(gravity_no_zeros)   str(gravity_no_zeros) #> tibble [17,088 × 10] (S3: tbl_df/tbl/data.frame) #>  $ iso_o      : chr [1:17088] \"AFG\" \"AFG\" \"AFG\" \"AFG\" ... #>  $ iso_d      : chr [1:17088] \"ARG\" \"AUS\" \"AUT\" \"AZE\" ... #>  $ distw      : num [1:17088] 15341 11086 4567 1822 5332 ... #>  $ gdp_o      : num [1:17088] 8399 8399 8399 8399 8399 ... #>  $ gdp_d      : num [1:17088] 214058 768178 322444 20122 392001 ... #>  $ rta        : num [1:17088] 0 0 0 0 0 0 0 0 0 0 ... #>  $ flow       : num [1:17088] 0.061 0.4055 0.1649 0.0016 4.1587 ... #>  $ contig     : num [1:17088] 0 0 0 0 0 0 0 0 0 0 ... #>  $ comlang_off: num [1:17088] 0 0 0 0 0 0 0 0 0 0 ... #>  $ comcur     : num [1:17088] 0 0 0 0 0 0 0 0 0 0 ... #>  - attr(*, \"notes\")= chr [1:7] \"6\" \"data drawn from WDI for the year 2005 (earliest year available).\" \"the countries with no entry cost data are mainly small probably not in service trade data.\" \"KOR designates RKO since 1949\" ..."},{"path":"/reference/gravity_zeros.html","id":null,"dir":"Reference","previous_headings":"","what":"Gravity dataset without zero trade flows — gravity_zeros","title":"Gravity dataset without zero trade flows — gravity_zeros","text":"edited version full gravity dataset: \"square\" gravity dataset possible pairs Countries worldwide, 1948-2006, used article: Head, K., T. Mayer J. Ries, 2010, \"erosion colonial linkages independence\". Journal International Economics, 81(1):1-14 (lead article).   Dataset gravity_no_zeros corresponds dataset without zero trade flows, gravity_zeros, hand, includes zero trade flows.","code":""},{"path":"/reference/gravity_zeros.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gravity dataset without zero trade flows — gravity_zeros","text":"","code":"data(\"gravity_zeros\")"},{"path":"/reference/gravity_zeros.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Gravity dataset without zero trade flows — gravity_zeros","text":"data frame 22588 observations following 10 variables. iso_o ISO-Code country origin iso_d ISO-Code country destination distw weighted distance gdp_o GDP country origin million dollars gdp_d GDP country destination million dollars rta regional trade agreement dummy flow trade flow million dollars contig contiguity dummy comlang_off common official language dummy comcur common currency dummy","code":""},{"path":"/reference/gravity_zeros.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Gravity dataset without zero trade flows — gravity_zeros","text":"https://sites.google.com/site/hiegravity/data-sources","code":""},{"path":"/reference/gravity_zeros.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Gravity dataset without zero trade flows — gravity_zeros","text":"Head, K. Mayer, T. (2014). Chapter 3 - gravity equations:   Workhorse,toolkit, cookbook.   Gita Gopinath, E. H. Rogoff, K., editors,   Handbook International Economics, volume 4 Handbook International   Economics, pages 131-195. Elsevier.   (Gravity Equations: Workhorse, Toolkit, Cookbook) Head, K., T. Mayer J. Ries, 2010, \"erosion od colonial linkages   independence\". Journal International Economics, 81(1):1-14   (lead article).","code":""},{"path":"/reference/gravity_zeros.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Gravity dataset without zero trade flows — gravity_zeros","text":"","code":"data(gravity_zeros)   str(gravity_zeros) #> tibble [22,588 × 10] (S3: tbl_df/tbl/data.frame) #>  $ iso_o      : chr [1:22588] \"AFG\" \"AFG\" \"AFG\" \"AFG\" ... #>  $ iso_d      : chr [1:22588] \"ARG\" \"AUS\" \"AUT\" \"AZE\" ... #>  $ distw      : num [1:22588] 15341 11086 4567 1822 5849 ... #>  $ gdp_o      : num [1:22588] 8399 8399 8399 8399 8399 ... #>  $ gdp_d      : num [1:22588] 214058 768178 322444 20122 807 ... #>  $ rta        : num [1:22588] 0 0 0 0 0 0 0 0 0 0 ... #>  $ flow       : num [1:22588] 0.061 0.4055 0.1649 0.0016 0 ... #>  $ contig     : num [1:22588] 0 0 0 0 0 0 0 0 0 0 ... #>  $ comlang_off: num [1:22588] 0 0 0 0 0 0 0 0 0 0 ... #>  $ comcur     : num [1:22588] 0 0 0 0 0 0 0 0 0 0 ... #>  - attr(*, \"notes\")= chr [1:7] \"6\" \"data drawn from WDI for the year 2005 (earliest year available).\" \"the countries with no entry cost data are mainly small probably not in service trade data.\" \"KOR designates RKO since 1949\" ..."},{"path":"/reference/hm_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Head and Mayer consistent summary statistics — hm_summary","title":"Head and Mayer consistent summary statistics — hm_summary","text":"Summary estimates function , used default options, provides estimation results consistent Stata methods used Head Mayer (2014) . function adapted work Isidore Beautrelet.","code":""},{"path":"/reference/hm_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Head and Mayer consistent summary statistics — hm_summary","text":"","code":"hm_summary(model, robust = FALSE, ...)"},{"path":"/reference/hm_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Head and Mayer consistent summary statistics — hm_summary","text":"model (Type: lm) Regression object obtained using estimation methods package generic method lm glm. particular classes (gpml, nbpml, negbin nls) return R squared F statistic. robust (Type: logical) Determines whether robust variance-covariance matrix used. default set FALSE. set TRUE estimation results consistent Stata code provided website Gravity Equations: Workhorse, Toolkit, Cookbook choosing robust estimation. ... additional arguments passed tobit.","code":""},{"path":"/reference/hm_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Head and Mayer consistent summary statistics — hm_summary","text":"Summary lm object.","code":""},{"path":"/reference/hm_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Head and Mayer consistent summary statistics — hm_summary","text":"","code":"# Example for CRAN checks: # Executable in < 5 sec  data(\"gravity_no_zeros\")  # Choose 5 countries for testing countries_chosen <- c(\"AUS\", \"CHN\", \"GBR\", \"BRA\", \"CAN\") grav_small <- subset(gravity_no_zeros, iso_o %in% countries_chosen)  # Using OLS for testing fit <- ols(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"contig\", \"comcur\"),   income_origin = \"gdp_o\",   income_destination = \"gdp_d\",   code_origin = \"iso_o\",   code_destination = \"iso_d\",   uie = FALSE,   robust = FALSE,   data = grav_small )  fit2 <- hm_summary(fit, robust = FALSE)"},{"path":"/reference/log_distance.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply logarithm to distance column — log_distance","title":"Apply logarithm to distance column — log_distance","text":"log_distance creates new dist_log column log scale taking original distance column data","code":""},{"path":"/reference/log_distance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply logarithm to distance column — log_distance","text":"","code":"log_distance(data, distance)"},{"path":"/reference/log_distance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply logarithm to distance column — log_distance","text":"data (Type: data.frame) dataset used. distance distance column","code":""},{"path":"/reference/log_distance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply logarithm to distance column — log_distance","text":"function returns summary estimated gravity model lm-object.","code":""},{"path":[]},{"path":"/reference/log_distance.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Apply logarithm to distance column — log_distance","text":"","code":"log_distance(gravity_zeros, \"distw\") #> # A tibble: 22,588 × 11 #>    iso_o iso_d  distw gdp_o   gdp_d   rta    flow contig comlang_off comcur #>    <chr> <chr>  <dbl> <dbl>   <dbl> <dbl>   <dbl>  <dbl>       <dbl>  <dbl> #>  1 AFG   ARG   15341. 8399. 214058.     0 0.061        0           0      0 #>  2 AFG   AUS   11086. 8399. 768178.     0 0.406        0           0      0 #>  3 AFG   AUT    4567. 8399. 322444.     0 0.165        0           0      0 #>  4 AFG   AZE    1822. 8399.  20122.     0 0.00160      0           0      0 #>  5 AFG   BDI    5849. 8399.    807.     0 0            0           0      0 #>  6 AFG   BEL    5332. 8399. 392001.     0 4.16         0           0      0 #>  7 AFG   BEN    7331. 8399.   4775.     0 0            0           0      0 #>  8 AFG   BFA    7464. 8399.   6205.     0 0.00103      0           0      0 #>  9 AFG   BGD    2489. 8399.  61961.     0 3.02         0           0      0 #> 10 AFG   BGR    3819. 8399.  31483      0 0.0197       0           0      0 #> # ℹ 22,578 more rows #> # ℹ 1 more variable: dist_log <dbl>"},{"path":"/reference/nbpml.html","id":null,"dir":"Reference","previous_headings":"","what":"Negative Binomial Pseudo Maximum Likelihood (NBPML) — nbpml","title":"Negative Binomial Pseudo Maximum Likelihood (NBPML) — nbpml","text":"nbpml estimates gravity models multiplicative form via Negative Binomial Pseudo Maximum Likelihood.","code":""},{"path":"/reference/nbpml.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Negative Binomial Pseudo Maximum Likelihood (NBPML) — nbpml","text":"","code":"nbpml(   dependent_variable,   distance,   additional_regressors = NULL,   robust = FALSE,   data,   ... )"},{"path":"/reference/nbpml.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Negative Binomial Pseudo Maximum Likelihood (NBPML) — nbpml","text":"dependent_variable (Type: character) name dependent variable. variable logged used dependent variable estimation. distance (Type: character) name distance variable taken key independent variable estimation. distance logged automatically function executed. additional_regressors (Type: character) names additional regressors include model (e.g. dummy variable indicate contiguity). Unilateral metric variables GDPs can added variables logged first. Interaction terms can added. Write argument c(contiguity, common currency, ...). default set NULL. robust (Type: logical) whether robust fitting used. default set FALSE. data (Type: data.frame) dataset used. ... Additional arguments passed function.","code":""},{"path":"/reference/nbpml.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Negative Binomial Pseudo Maximum Likelihood (NBPML) — nbpml","text":"function returns summary estimated gravity model similar glm-object.","code":""},{"path":"/reference/nbpml.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Negative Binomial Pseudo Maximum Likelihood (NBPML) — nbpml","text":"nbpml estimation method gravity models belonging generalized linear models. estimated via glm.nb using negative binomial distribution log-link. similar functions, utilizing multiplicative form via log-link, different distributions, see nbpml, gpml, nls. gpml estimation can used , cross-sectional well panel data, user ensure functions can applied panel data. Depending panel dataset variables - specifically type fixed effects - included model, may easily occur model computable. Also, note including bilateral fixed effects country-pair effects, coefficients time-invariant observables distance can longer estimated. Depending specific model, code respective function may changed order exclude distance variable estimation. least, user take special care respect meaning estimated coefficients variances well decision effects include estimation. using panel data, parameter variance estimation models may changed accordingly. comprehensive overview gravity models panel data see Egger Pfaffermayr (2003) , Gómez-Herrera (2013)  Head et al. (2010) .","code":""},{"path":"/reference/nbpml.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Negative Binomial Pseudo Maximum Likelihood (NBPML) — nbpml","text":"information gravity models, theoretical foundations estimation methods general see Anderson JE (1979). “Theoretical Foundation Gravity Equation.” American Economic Review, 69(1), 106–116. ISSN 00028282. Anderson JE, van Wincoop E (2001). “Gravity Gravitas: Solution Border Puzzle.” Working Paper 8079, National Bureau Economic Research. doi:10.3386/w8079 . Anderson JE (2010). “Gravity Model.” Working Paper 16576, National Bureau Economic Research. doi:10.3386/w16576 . Baier SL, Bergstrand JH (2009). “Bonus vetus OLS: simple method approximating international trade-cost effects using gravity equation.” Journal International Economics, 77(1), 77 - 85. ISSN 0022-1996, doi:10.1016/j.jinteco.2008.10.004 . Baier SL, Bergstrand JH (2010). “Gravity Model International Trade: Advances Applications.” van Bergeijk PAG, Brakman S (eds.), chapter 4. Cambridge University Press. doi:10.1017/CBO9780511762109 . Feenstra RC (2002). “Border effects gravity equation: consistent methods estimation.” Scottish Journal Political Economy, 49(5), 491–506. Head K, Mayer T, Ries J (2010). “erosion colonial trade linkages independence.” Journal International Economics, 81(1), 1 - 14. ISSN 0022-1996, doi:10.1016/j.jinteco.2010.01.002 . Head K, Mayer T (2014). “Chapter 3 - Gravity Equations: Workhorse,Toolkit, Cookbook.” Gopinath G, Helpman E, Rogoff K (eds.), Handbook International Economics, volume 4 Handbook International Economics, 131 - 195. Elsevier. doi:10.1016/B978-0-444-54314-1.00003-3 . Silva JMCS, Tenreyro S (2006). “Log Gravity.” Review Economics Statistics, 88(4), 641-658. doi:10.1162/rest.88.4.641 . citations therein. See Gravity Equations: Workhorse, Toolkit, Cookbook gravity datasets Stata code estimating gravity models. estimating gravity equations using panel data see Egger P, Pfaffermayr M (2003). “proper panel econometric specification gravity equation: three-way model bilateral interaction effects.” Empirical Economics, 28(3), 571–580. ISSN 1435-8921, doi:10.1007/s001810200146 . Gómez-Herrera E (2013). “Comparing alternative methods estimate gravity models bilateral trade.” Empirical Economics, 44(3), 1087–1111. ISSN 1435-8921, doi:10.1007/s00181-012-0576-2 . references therein.","code":""},{"path":[]},{"path":"/reference/nbpml.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Negative Binomial Pseudo Maximum Likelihood (NBPML) — nbpml","text":"","code":"# Example for CRAN checks: # Executable in < 5 sec  data(\"gravity_no_zeros\")  # Choose 3 countries for testing countries_chosen <- c(\"AUS\", \"GBR\", \"CAN\") grav_small <- subset(gravity_no_zeros, iso_o %in% countries_chosen)  fit <- nbpml(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"iso_o\", \"iso_d\"),   data = grav_small )"},{"path":"/reference/nls.html","id":null,"dir":"Reference","previous_headings":"","what":"Non-linear Least Squares (NLS) — nls","title":"Non-linear Least Squares (NLS) — nls","text":"nls estimates gravity models multiplicative form via Nonlinear Least Squares.","code":""},{"path":"/reference/nls.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Non-linear Least Squares (NLS) — nls","text":"","code":"nls(dependent_variable, distance, additional_regressors = NULL, data, ...)"},{"path":"/reference/nls.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Non-linear Least Squares (NLS) — nls","text":"dependent_variable (Type: character) name dependent variable. variable logged used dependent variable estimation. distance (Type: character) name distance variable taken key independent variable estimation. distance logged automatically function executed. additional_regressors (Type: character) names additional regressors include model (e.g. dummy variable indicate contiguity). Unilateral metric variables GDPs can added variables logged first. Interaction terms can added. Write argument c(contiguity, common currency, ...). default set NULL. data (Type: data.frame) dataset used. ... Additional arguments passed function.","code":""},{"path":"/reference/nls.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Non-linear Least Squares (NLS) — nls","text":"function returns summary estimated gravity model similar glm-object.","code":""},{"path":"/reference/nls.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Non-linear Least Squares (NLS) — nls","text":"nls estimation method gravity models belonging generalized linear models. estimated via glm using gaussian distribution log-link. method may lead convergence poor starting values used, linear predictions, fitted values, estimated coefficients resulting ppml estimation used arguments etastart, mustart, start. similar functions, utilizing multiplicative form via log-link, different distributions, see ppml, gpml, nbpml. nls estimation can used , cross-sectional well panel data, user ensure functions can applied panel data. Depending panel dataset variables - specifically type fixed effects - included model, may easily occur model computable. Also, note including bilateral fixed effects country-pair effects, coefficients time-invariant observables distance can longer estimated. Depending specific model, code respective function may changed order exclude distance variable estimation. least, user take special care respect meaning estimated coefficients variances well decision effects include estimation. using panel data, parameter variance estimation models may changed accordingly. comprehensive overview gravity models panel data see Egger Pfaffermayr (2003) , Gómez-Herrera (2013)  Head et al. (2010)  well references therein.","code":""},{"path":"/reference/nls.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Non-linear Least Squares (NLS) — nls","text":"information gravity models, theoretical foundations estimation methods general see Anderson JE (1979). “Theoretical Foundation Gravity Equation.” American Economic Review, 69(1), 106–116. ISSN 00028282. Anderson JE, van Wincoop E (2001). “Gravity Gravitas: Solution Border Puzzle.” Working Paper 8079, National Bureau Economic Research. doi:10.3386/w8079 . Anderson JE (2010). “Gravity Model.” Working Paper 16576, National Bureau Economic Research. doi:10.3386/w16576 . Baier SL, Bergstrand JH (2009). “Bonus vetus OLS: simple method approximating international trade-cost effects using gravity equation.” Journal International Economics, 77(1), 77 - 85. ISSN 0022-1996, doi:10.1016/j.jinteco.2008.10.004 . Baier SL, Bergstrand JH (2010). “Gravity Model International Trade: Advances Applications.” van Bergeijk PAG, Brakman S (eds.), chapter 4. Cambridge University Press. doi:10.1017/CBO9780511762109 . Feenstra RC (2002). “Border effects gravity equation: consistent methods estimation.” Scottish Journal Political Economy, 49(5), 491–506. Head K, Mayer T, Ries J (2010). “erosion colonial trade linkages independence.” Journal International Economics, 81(1), 1 - 14. ISSN 0022-1996, doi:10.1016/j.jinteco.2010.01.002 . Head K, Mayer T (2014). “Chapter 3 - Gravity Equations: Workhorse,Toolkit, Cookbook.” Gopinath G, Helpman E, Rogoff K (eds.), Handbook International Economics, volume 4 Handbook International Economics, 131 - 195. Elsevier. doi:10.1016/B978-0-444-54314-1.00003-3 . Silva JMCS, Tenreyro S (2006). “Log Gravity.” Review Economics Statistics, 88(4), 641-658. doi:10.1162/rest.88.4.641 . citations therein. See Gravity Equations: Workhorse, Toolkit, Cookbook gravity datasets Stata code estimating gravity models. estimating gravity equations using panel data see Egger P, Pfaffermayr M (2003). “proper panel econometric specification gravity equation: three-way model bilateral interaction effects.” Empirical Economics, 28(3), 571–580. ISSN 1435-8921, doi:10.1007/s001810200146 . Gómez-Herrera E (2013). “Comparing alternative methods estimate gravity models bilateral trade.” Empirical Economics, 44(3), 1087–1111. ISSN 1435-8921, doi:10.1007/s00181-012-0576-2 . references therein.","code":""},{"path":[]},{"path":"/reference/nls.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Non-linear Least Squares (NLS) — nls","text":"","code":"# Example for CRAN checks: # Executable in < 5 sec  data(\"gravity_no_zeros\")  # Choose 5 countries for testing countries_chosen <- c(\"AUS\", \"CHN\", \"GBR\", \"BRA\", \"CAN\") grav_small <- subset(gravity_no_zeros, iso_o %in% countries_chosen)   grav_small$lgdp_o <- log(grav_small$gdp_o) grav_small$lgdp_d <- log(grav_small$gdp_d)  fit <- nls(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"lgdp_o\", \"lgdp_d\"),   data = grav_small )"},{"path":"/reference/ols.html","id":null,"dir":"Reference","previous_headings":"","what":"Ordinary Least Squares (OLS) — ols","title":"Ordinary Least Squares (OLS) — ols","text":"ols estimates gravity models traditional form via Ordinary Least Squares (ols). consider Multilateral Resistance terms.","code":""},{"path":"/reference/ols.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ordinary Least Squares (OLS) — ols","text":"","code":"ols(   dependent_variable,   distance,   additional_regressors = NULL,   income_origin,   income_destination,   code_origin,   code_destination,   uie = FALSE,   robust = FALSE,   data,   ... )"},{"path":"/reference/ols.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ordinary Least Squares (OLS) — ols","text":"dependent_variable (Type: character) name dependent variable. uie = TRUE dependent variable divided product unilateral incomes (e.g. income_origin income_destination) logged afterwards. uie=FALSE dependent variable logged directly. transformed variable used dependent variable logged income variables used independent variables estimation. distance (Type: character) name distance variable taken key independent variable estimation. distance logged automatically function executed. additional_regressors (Type: character) names additional regressors include model (e.g. dummy variable indicate contiguity). Unilateral metric variables GDPs can added variables logged first. Interaction terms can added. Write argument c(contiguity, common currency, ...). default set NULL. income_origin (Type: character) origin income variable (e.g. GDP) dataset. income_destination (Type: character) destination income variable (e.g. GDP) dataset. code_origin (Type: character) country origin variable (e.g. ISO-3 country codes). variables grouped using parameter. code_destination (Type: character) country destination variable (e.g. country ISO-3 codes). variables grouped using parameter. uie (Type: logical) Dtermines whether parameters estimated assuming unitary income elasticities. default value set FALSE. robust (Type: logical) whether robust fitting used. default set FALSE. data (Type: data.frame) dataset used. ... Additional arguments passed function.","code":""},{"path":"/reference/ols.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ordinary Least Squares (OLS) — ols","text":"function returns summary estimated gravity model lm-object.","code":""},{"path":"/reference/ols.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Ordinary Least Squares (OLS) — ols","text":"ols estimates gravity models traditional, additive, form via Ordinary Least Squares using lm function. Multilateral Resistance terms considered function. coefficients country's incomes often found close unitary unitary income elasticities line theoretical foundations international trade, sometimes assumed income elasticities equal unity. order allow estimation without assumption unitary income elasticities, option uie built ols default set FALSE. ols estimation can used , cross-sectional panel data. Nonetheless, function designed consistent Stata code cross-sectional data provided website Gravity Equations: Workhorse, Toolkit, Cookbook choosing robust estimation. function ols therefore tested cross-sectional data. use panel data tests performed. Therefore, user ensure functions can applied panel data. Depending panel dataset variables - specifically type fixed effects - included model, may easily occur model computable. Also, note including bilateral fixed effects country-pair effects, coefficients time-invariant observables distance can longer estimated. Depending specific model, code respective function may changed order exclude distance variable estimation. least, user take special care respect meaning estimated coefficients variances well decision effects include estimation. using panel data, parameter variance estimation models may changed accordingly. comprehensive overview gravity models panel data see Egger Pfaffermayr (2003) , Gómez-Herrera (2013)  Head et al. (2010)  well references therein.","code":""},{"path":"/reference/ols.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Ordinary Least Squares (OLS) — ols","text":"information gravity models, theoretical foundations estimation methods general see Anderson JE (1979). “Theoretical Foundation Gravity Equation.” American Economic Review, 69(1), 106–116. ISSN 00028282. Anderson JE, van Wincoop E (2001). “Gravity Gravitas: Solution Border Puzzle.” Working Paper 8079, National Bureau Economic Research. doi:10.3386/w8079 . Anderson JE (2010). “Gravity Model.” Working Paper 16576, National Bureau Economic Research. doi:10.3386/w16576 . Baier SL, Bergstrand JH (2009). “Bonus vetus OLS: simple method approximating international trade-cost effects using gravity equation.” Journal International Economics, 77(1), 77 - 85. ISSN 0022-1996, doi:10.1016/j.jinteco.2008.10.004 . Baier SL, Bergstrand JH (2010). “Gravity Model International Trade: Advances Applications.” van Bergeijk PAG, Brakman S (eds.), chapter 4. Cambridge University Press. doi:10.1017/CBO9780511762109 . Feenstra RC (2002). “Border effects gravity equation: consistent methods estimation.” Scottish Journal Political Economy, 49(5), 491–506. Head K, Mayer T, Ries J (2010). “erosion colonial trade linkages independence.” Journal International Economics, 81(1), 1 - 14. ISSN 0022-1996, doi:10.1016/j.jinteco.2010.01.002 . Head K, Mayer T (2014). “Chapter 3 - Gravity Equations: Workhorse,Toolkit, Cookbook.” Gopinath G, Helpman E, Rogoff K (eds.), Handbook International Economics, volume 4 Handbook International Economics, 131 - 195. Elsevier. doi:10.1016/B978-0-444-54314-1.00003-3 . Silva JMCS, Tenreyro S (2006). “Log Gravity.” Review Economics Statistics, 88(4), 641-658. doi:10.1162/rest.88.4.641 . citations therein. See Gravity Equations: Workhorse, Toolkit, Cookbook gravity datasets Stata code estimating gravity models. estimating gravity equations using panel data see Egger P, Pfaffermayr M (2003). “proper panel econometric specification gravity equation: three-way model bilateral interaction effects.” Empirical Economics, 28(3), 571–580. ISSN 1435-8921, doi:10.1007/s001810200146 . Gómez-Herrera E (2013). “Comparing alternative methods estimate gravity models bilateral trade.” Empirical Economics, 44(3), 1087–1111. ISSN 1435-8921, doi:10.1007/s00181-012-0576-2 . references therein.","code":""},{"path":[]},{"path":"/reference/ols.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Ordinary Least Squares (OLS) — ols","text":"","code":"# Example for CRAN checks: # Executable in < 5 sec  data(\"gravity_no_zeros\")  # Choose 5 countries for testing countries_chosen <- c(\"AUS\", \"CHN\", \"GBR\", \"BRA\", \"CAN\") grav_small <- subset(gravity_no_zeros, iso_o %in% countries_chosen)  fit <- ols(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"contig\", \"comcur\"),   income_origin = \"gdp_o\",   income_destination = \"gdp_d\",   code_origin = \"iso_o\",   code_destination = \"iso_d\",   uie = FALSE,   robust = FALSE,   data = grav_small )"},{"path":"/reference/ppml.html","id":null,"dir":"Reference","previous_headings":"","what":"Poisson Pseudo Maximum Likelihood (PPML) — ppml","title":"Poisson Pseudo Maximum Likelihood (PPML) — ppml","text":"ppml estimates gravity models multiplicative form via Poisson Pseudo Maximum Likelihood.","code":""},{"path":"/reference/ppml.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Poisson Pseudo Maximum Likelihood (PPML) — ppml","text":"","code":"ppml(   dependent_variable,   distance,   additional_regressors = NULL,   robust = FALSE,   data,   ... )"},{"path":"/reference/ppml.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Poisson Pseudo Maximum Likelihood (PPML) — ppml","text":"dependent_variable (Type: character) name dependent variable. variable used dependent variable estimation. distance (Type: character) name distance variable taken key independent variable estimation. distance logged automatically function executed. additional_regressors (Type: character) names additional regressors include model (e.g. dummy variable indicate contiguity). Unilateral metric variables GDPs can added variables logged first. Interaction terms can added. Write argument c(contiguity, common currency, ...). default set NULL. robust (Type: logical) whether robust fitting used. default set FALSE. data (Type: data.frame) dataset used. ... Additional arguments passed function.","code":""},{"path":"/reference/ppml.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Poisson Pseudo Maximum Likelihood (PPML) — ppml","text":"function returns summary estimated gravity model glm-object.","code":""},{"path":"/reference/ppml.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Poisson Pseudo Maximum Likelihood (PPML) — ppml","text":"ppml estimation method gravity models belonging generalized linear models. estimated via glm using quasipoisson distribution log-link. ppml presented Silva Tenreyro (2006) . similar functions, utilizing multiplicative form via log-link, different distributions, see gpml, nls, nbpml. ppml estimation can used , cross-sectional well panel data. function designed consistent results Stata function ppml written Silva Tenreyro (2006) . function ols therefore tested cross-sectional data. use panel data tests performed. Therefore, user ensure functions can applied panel data. Depending panel dataset variables - specifically type fixed effects - included model, may easily occur model computable. Also, note including bilateral fixed effects country-pair effects, coefficients time-invariant observables distance can longer estimated. Depending specific model, code respective function may changed order exclude distance variable estimation. least, user take special care respect meaning estimated coefficients variances well decision effects include estimation. using panel data, parameter variance estimation models may changed accordingly. comprehensive overview gravity models panel data see Egger Pfaffermayr (2003) , Gómez-Herrera (2013)  Head et al. (2010)  well references therein.","code":""},{"path":"/reference/ppml.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Poisson Pseudo Maximum Likelihood (PPML) — ppml","text":"information gravity models, theoretical foundations estimation methods general see Anderson JE (1979). “Theoretical Foundation Gravity Equation.” American Economic Review, 69(1), 106–116. ISSN 00028282. Anderson JE, van Wincoop E (2001). “Gravity Gravitas: Solution Border Puzzle.” Working Paper 8079, National Bureau Economic Research. doi:10.3386/w8079 . Anderson JE (2010). “Gravity Model.” Working Paper 16576, National Bureau Economic Research. doi:10.3386/w16576 . Baier SL, Bergstrand JH (2009). “Bonus vetus OLS: simple method approximating international trade-cost effects using gravity equation.” Journal International Economics, 77(1), 77 - 85. ISSN 0022-1996, doi:10.1016/j.jinteco.2008.10.004 . Baier SL, Bergstrand JH (2010). “Gravity Model International Trade: Advances Applications.” van Bergeijk PAG, Brakman S (eds.), chapter 4. Cambridge University Press. doi:10.1017/CBO9780511762109 . Feenstra RC (2002). “Border effects gravity equation: consistent methods estimation.” Scottish Journal Political Economy, 49(5), 491–506. Head K, Mayer T, Ries J (2010). “erosion colonial trade linkages independence.” Journal International Economics, 81(1), 1 - 14. ISSN 0022-1996, doi:10.1016/j.jinteco.2010.01.002 . Head K, Mayer T (2014). “Chapter 3 - Gravity Equations: Workhorse,Toolkit, Cookbook.” Gopinath G, Helpman E, Rogoff K (eds.), Handbook International Economics, volume 4 Handbook International Economics, 131 - 195. Elsevier. doi:10.1016/B978-0-444-54314-1.00003-3 . Silva JMCS, Tenreyro S (2006). “Log Gravity.” Review Economics Statistics, 88(4), 641-658. doi:10.1162/rest.88.4.641 . citations therein. See Gravity Equations: Workhorse, Toolkit, Cookbook gravity datasets Stata code estimating gravity models. estimating gravity equations using panel data see Egger P, Pfaffermayr M (2003). “proper panel econometric specification gravity equation: three-way model bilateral interaction effects.” Empirical Economics, 28(3), 571–580. ISSN 1435-8921, doi:10.1007/s001810200146 . Gómez-Herrera E (2013). “Comparing alternative methods estimate gravity models bilateral trade.” Empirical Economics, 44(3), 1087–1111. ISSN 1435-8921, doi:10.1007/s00181-012-0576-2 . references therein.","code":""},{"path":[]},{"path":"/reference/ppml.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Poisson Pseudo Maximum Likelihood (PPML) — ppml","text":"","code":"# Example for CRAN checks: # Executable in < 5 sec  data(\"gravity_no_zeros\")  # Choose 5 countries for testing countries_chosen <- c(\"AUS\", \"CHN\", \"GBR\", \"BRA\", \"CAN\") grav_small <- subset(gravity_no_zeros, iso_o %in% countries_chosen)  fit <- ppml(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"iso_o\", \"iso_d\"),   data = grav_small )"},{"path":"/reference/sils.html","id":null,"dir":"Reference","previous_headings":"","what":"Structural Iterated Least Squares (SILS) — sils","title":"Structural Iterated Least Squares (SILS) — sils","text":"sils estimates gravity models via Structural Iterated Least Squares explicit inclusion Multilateral Resistance terms.","code":""},{"path":"/reference/sils.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Structural Iterated Least Squares (SILS) — sils","text":"","code":"sils(   dependent_variable,   distance,   additional_regressors = NULL,   income_origin,   income_destination,   code_origin,   code_destination,   maxloop = 100,   decimal_places = 4,   robust = FALSE,   verbose = FALSE,   data,   ... )"},{"path":"/reference/sils.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Structural Iterated Least Squares (SILS) — sils","text":"dependent_variable (Type: character) name dependent variable. dependent variable divided product unilateral incomes (.e. income_origin income_destination) logged afterwards. distance (Type: character) name distance variable taken key independent variable estimation. distance logged automatically function executed. additional_regressors (Type: character) names additional regressors include model (e.g. dummy variable indicate contiguity). Unilateral metric variables GDP inserted via arguments income_origin income_destination. country specific effects subdued due demeaning, unilateral variables apart incomes can added. Write argument c(contiguity, common currency, ...). default set NULL. income_origin (Type: character) origin income variable (e.g. GDP) dataset. income_destination (Type: character) destination income variable (e.g. GDP) dataset. code_origin (Type: character) country origin variable (e.g. ISO-3 country codes). variables grouped using parameter. code_destination (Type: character) country destination variable (e.g. country ISO-3 codes). variables grouped using parameter. maxloop (Type: numeric) maximum number outer loop iterations. default set 100. warning iterations converge. decimal_places (Type: numeric) number decimal places change new iteration estimation stop. default set 4. robust (Type: logical) whether robust fitting used. default set FALSE. verbose (Type: logical) determines whether estimated coefficients iteration printed console. default set FALSE. data (Type: data.frame) dataset used. ... Additional arguments passed function.","code":""},{"path":"/reference/sils.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Structural Iterated Least Squares (SILS) — sils","text":"function returns summary estimated gravity model lm-object. furthermore returns resulting coefficients iteration.","code":""},{"path":"/reference/sils.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Structural Iterated Least Squares (SILS) — sils","text":"sils estimation method gravity models developed Head Mayer (2014) . function sils utilizes relationship Multilateral Resistance terms transaction costs. parameters estimated iterative procedure. function executes loops parameters stop changing significantly. sils designed consistent Stata code provided Gravity Equations: Workhorse, Toolkit, Cookbook choosing robust estimation. , knowledge moment, explicit literature covering estimation gravity equation sils using panel data, recommend apply method case.","code":""},{"path":"/reference/sils.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Structural Iterated Least Squares (SILS) — sils","text":"information gravity models, theoretical foundations estimation methods general see Anderson JE (1979). “Theoretical Foundation Gravity Equation.” American Economic Review, 69(1), 106–116. ISSN 00028282. Anderson JE, van Wincoop E (2001). “Gravity Gravitas: Solution Border Puzzle.” Working Paper 8079, National Bureau Economic Research. doi:10.3386/w8079 . Anderson JE (2010). “Gravity Model.” Working Paper 16576, National Bureau Economic Research. doi:10.3386/w16576 . Baier SL, Bergstrand JH (2009). “Bonus vetus OLS: simple method approximating international trade-cost effects using gravity equation.” Journal International Economics, 77(1), 77 - 85. ISSN 0022-1996, doi:10.1016/j.jinteco.2008.10.004 . Baier SL, Bergstrand JH (2010). “Gravity Model International Trade: Advances Applications.” van Bergeijk PAG, Brakman S (eds.), chapter 4. Cambridge University Press. doi:10.1017/CBO9780511762109 . Feenstra RC (2002). “Border effects gravity equation: consistent methods estimation.” Scottish Journal Political Economy, 49(5), 491–506. Head K, Mayer T, Ries J (2010). “erosion colonial trade linkages independence.” Journal International Economics, 81(1), 1 - 14. ISSN 0022-1996, doi:10.1016/j.jinteco.2010.01.002 . Head K, Mayer T (2014). “Chapter 3 - Gravity Equations: Workhorse,Toolkit, Cookbook.” Gopinath G, Helpman E, Rogoff K (eds.), Handbook International Economics, volume 4 Handbook International Economics, 131 - 195. Elsevier. doi:10.1016/B978-0-444-54314-1.00003-3 . Silva JMCS, Tenreyro S (2006). “Log Gravity.” Review Economics Statistics, 88(4), 641-658. doi:10.1162/rest.88.4.641 . citations therein. See Gravity Equations: Workhorse, Toolkit, Cookbook gravity datasets Stata code estimating gravity models. estimating gravity equations using panel data see Egger P, Pfaffermayr M (2003). “proper panel econometric specification gravity equation: three-way model bilateral interaction effects.” Empirical Economics, 28(3), 571–580. ISSN 1435-8921, doi:10.1007/s001810200146 . Gómez-Herrera E (2013). “Comparing alternative methods estimate gravity models bilateral trade.” Empirical Economics, 44(3), 1087–1111. ISSN 1435-8921, doi:10.1007/s00181-012-0576-2 . references therein.","code":""},{"path":[]},{"path":"/reference/sils.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Structural Iterated Least Squares (SILS) — sils","text":"","code":"# Example for CRAN checks: # Executable in < 5 sec  data(\"gravity_no_zeros\")  # Choose 5 countries for testing countries_chosen <- c(\"AUS\", \"CHN\", \"GBR\", \"BRA\", \"CAN\") grav_small <- subset(gravity_no_zeros, iso_o %in% countries_chosen)  fit <- sils(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = \"rta\",   income_origin = \"gdp_o\",   income_destination = \"gdp_d\",   code_origin = \"iso_o\",   code_destination = \"iso_d\",   maxloop = 50,   dec_places = 3,   robust = FALSE,   verbose = FALSE,   data = grav_small )"},{"path":"/reference/tetrads.html","id":null,"dir":"Reference","previous_headings":"","what":"Tetrads — tetrads","title":"Tetrads — tetrads","text":"tetrads estimates gravity models taking ratio ratio flows.","code":""},{"path":"/reference/tetrads.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tetrads — tetrads","text":"","code":"tetrads(   dependent_variable,   distance,   additional_regressors = NULL,   code_origin,   code_destination,   filter_origin = NULL,   filter_destination = NULL,   multiway = FALSE,   data,   ... )"},{"path":"/reference/tetrads.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tetrads — tetrads","text":"dependent_variable (Type: character) name dependent variable. variable logged used dependent variable estimation. distance (Type: character) name distance variable taken key independent variable estimation. distance logged automatically function executed. additional_regressors (Type: character) names additional regressors include model (e.g. dummy variable indicate contiguity). Unilateral metric variables GDP inserted via arguments income_origin income_destination. Write argument c(contiguity, common currency, ...). default set NULL. code_origin (Type: character) country origin variable (e.g. ISO-3 country codes). variables grouped using parameter. code_destination (Type: character) country destination variable (e.g. country ISO-3 codes). variables grouped using parameter. filter_origin (Type: character) Reference exporting country. filter_destination (Type: character) Reference importing country. multiway (Type: logical) case multiway = TRUE, cluster.vcov function used estimation following Cameron et al. (2011)  multi-way clustering variance-covariance matrices. default value set TRUE. data (Type: data.frame) dataset used. ... Additional arguments passed function.","code":""},{"path":"/reference/tetrads.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tetrads — tetrads","text":"function returns summary estimated gravity model lm-object.","code":""},{"path":"/reference/tetrads.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Tetrads — tetrads","text":"tetrads estimation method gravity models developed Head et al. (2010) . function tetrads utilizes multiplicative form gravity equation. choosing reference exporter importer B one can eliminate importer exporter fixed effects taking ratio ratios. exporters trading reference importer importers trading reference exporter remain estimation. Therefore, reference countries preferably countries trade every country dataset. restricting data way, tetrads estimates gravity equation additive form OLS. taking ratio ratios, monadic effects diminish, hence unilateral variables GDP can included independent variables. tetrads estimation can used , cross-sectional well panel data. Nonetheless, function designed consistent Stata code cross-sectional data provided website Gravity Equations: Workhorse, Toolkit, Cookbook choosing robust estimation. function tetrads therefore tested cross-sectional data. tetrads used panel data, user may drop distance independent variable time-invariant effects drop. applying tetrads panel data see Head et al. (2010) .","code":""},{"path":"/reference/tetrads.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Tetrads — tetrads","text":"information gravity models, theoretical foundations estimation methods general see Anderson JE (1979). “Theoretical Foundation Gravity Equation.” American Economic Review, 69(1), 106–116. ISSN 00028282. Anderson JE, van Wincoop E (2001). “Gravity Gravitas: Solution Border Puzzle.” Working Paper 8079, National Bureau Economic Research. doi:10.3386/w8079 . Anderson JE (2010). “Gravity Model.” Working Paper 16576, National Bureau Economic Research. doi:10.3386/w16576 . Baier SL, Bergstrand JH (2009). “Bonus vetus OLS: simple method approximating international trade-cost effects using gravity equation.” Journal International Economics, 77(1), 77 - 85. ISSN 0022-1996, doi:10.1016/j.jinteco.2008.10.004 . Baier SL, Bergstrand JH (2010). “Gravity Model International Trade: Advances Applications.” van Bergeijk PAG, Brakman S (eds.), chapter 4. Cambridge University Press. doi:10.1017/CBO9780511762109 . Feenstra RC (2002). “Border effects gravity equation: consistent methods estimation.” Scottish Journal Political Economy, 49(5), 491–506. Head K, Mayer T, Ries J (2010). “erosion colonial trade linkages independence.” Journal International Economics, 81(1), 1 - 14. ISSN 0022-1996, doi:10.1016/j.jinteco.2010.01.002 . Head K, Mayer T (2014). “Chapter 3 - Gravity Equations: Workhorse,Toolkit, Cookbook.” Gopinath G, Helpman E, Rogoff K (eds.), Handbook International Economics, volume 4 Handbook International Economics, 131 - 195. Elsevier. doi:10.1016/B978-0-444-54314-1.00003-3 . Silva JMCS, Tenreyro S (2006). “Log Gravity.” Review Economics Statistics, 88(4), 641-658. doi:10.1162/rest.88.4.641 . citations therein. See Gravity Equations: Workhorse, Toolkit, Cookbook gravity datasets Stata code estimating gravity models. estimating gravity equations using panel data see Egger P, Pfaffermayr M (2003). “proper panel econometric specification gravity equation: three-way model bilateral interaction effects.” Empirical Economics, 28(3), 571–580. ISSN 1435-8921, doi:10.1007/s001810200146 . Gómez-Herrera E (2013). “Comparing alternative methods estimate gravity models bilateral trade.” Empirical Economics, 44(3), 1087–1111. ISSN 1435-8921, doi:10.1007/s00181-012-0576-2 . references therein.","code":""},{"path":[]},{"path":"/reference/tetrads.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tetrads — tetrads","text":"","code":"# Example for CRAN checks: # Executable in < 5 sec  data(\"gravity_no_zeros\")  # Choose 5 countries for testing countries_chosen <- c(\"AUS\", \"CHN\", \"GBR\", \"BRA\", \"CAN\") grav_small <- subset(gravity_no_zeros, iso_o %in% countries_chosen)  fit <- tetrads(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = \"rta\",   code_origin = \"iso_o\",   code_destination = \"iso_d\",   filter_origin = countries_chosen[1],   filter_destination = countries_chosen[2],   data = grav_small )"},{"path":"/reference/tobit.html","id":null,"dir":"Reference","previous_headings":"","what":"Left-censored Tobit model with known threshold — tobit","title":"Left-censored Tobit model with known threshold — tobit","text":"tobit estimates gravity models additive form conducting left-censored regression, , adding constant 1 dependent variable, utilizes log(1) = 0 censoring value.","code":""},{"path":"/reference/tobit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Left-censored Tobit model with known threshold — tobit","text":"","code":"tobit(   dependent_variable,   distance,   additional_regressors = NULL,   added_constant = 1,   data,   ... )"},{"path":"/reference/tobit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Left-censored Tobit model with known threshold — tobit","text":"dependent_variable (Type: character) name dependent variable. number 1 added transformed variable logged taken dependent variable tobit estimation lower bound equal 0 log(1) = 0 represents smallest flows transformed variable. distance (Type: character) name distance variable taken key independent variable estimation. distance logged automatically function executed. additional_regressors (Type: character) names additional regressors include model (e.g. dummy variable indicate contiguity). Unilateral metric variables GDP inserted via arguments income_origin income_destination. Write argument c(contiguity, common currency, ...). default set NULL. added_constant (Type: numeric) constant added dependent variable. default value 1. minimum log(y + added_constant) taken left boundary Tobit model. often used case added_constant = 1, dependent variable left-censored value 0 log(1) = 0. data (Type: data.frame) dataset used. ... Additional arguments passed function.","code":""},{"path":"/reference/tobit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Left-censored Tobit model with known threshold — tobit","text":"function returns summary estimated gravity model censReg-object.","code":""},{"path":"/reference/tobit.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Left-censored Tobit model with known threshold — tobit","text":"tobit represents left-censored tobit Tobin (1958)  approach utilizing known censoring threshold often used several gravity models compared. taking log gravity equation flows equal zero constitute problem log defined. Therefore, execution function number 1 added flows log(flows+1) taken dependent variable. tobit estimation conducted using censReg function setting lower bound equal 0 log(1)=0 represents smallest flows transformed variable. tobit regression represents combination binary linear regression. procedure taken consideration interpreting estimated coefficients. marginal effects explanatory variable expected value dependent variable equals product probability latent variable exceeding threshold marginal effect explanatory variable expected value latent variable. function designed cross-sectional data, can easily extended panel data using censReg function. robust estimations implemented present censReg function compatible vcovHC function. elaborate Tobit function, see ek_tobit Eaton Kortum (2001) Tobit model zero trade volume assigned country specific interval upper bound equal minimum positive trade level respective importing country.","code":""},{"path":"/reference/tobit.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Left-censored Tobit model with known threshold — tobit","text":"information gravity models, theoretical foundations estimation methods general see Anderson JE (1979). “Theoretical Foundation Gravity Equation.” American Economic Review, 69(1), 106–116. ISSN 00028282. Anderson JE, van Wincoop E (2001). “Gravity Gravitas: Solution Border Puzzle.” Working Paper 8079, National Bureau Economic Research. doi:10.3386/w8079 . Anderson JE (2010). “Gravity Model.” Working Paper 16576, National Bureau Economic Research. doi:10.3386/w16576 . Baier SL, Bergstrand JH (2009). “Bonus vetus OLS: simple method approximating international trade-cost effects using gravity equation.” Journal International Economics, 77(1), 77 - 85. ISSN 0022-1996, doi:10.1016/j.jinteco.2008.10.004 . Baier SL, Bergstrand JH (2010). “Gravity Model International Trade: Advances Applications.” van Bergeijk PAG, Brakman S (eds.), chapter 4. Cambridge University Press. doi:10.1017/CBO9780511762109 . Feenstra RC (2002). “Border effects gravity equation: consistent methods estimation.” Scottish Journal Political Economy, 49(5), 491–506. Head K, Mayer T, Ries J (2010). “erosion colonial trade linkages independence.” Journal International Economics, 81(1), 1 - 14. ISSN 0022-1996, doi:10.1016/j.jinteco.2010.01.002 . Head K, Mayer T (2014). “Chapter 3 - Gravity Equations: Workhorse,Toolkit, Cookbook.” Gopinath G, Helpman E, Rogoff K (eds.), Handbook International Economics, volume 4 Handbook International Economics, 131 - 195. Elsevier. doi:10.1016/B978-0-444-54314-1.00003-3 . Silva JMCS, Tenreyro S (2006). “Log Gravity.” Review Economics Statistics, 88(4), 641-658. doi:10.1162/rest.88.4.641 . citations therein. See Gravity Equations: Workhorse, Toolkit, Cookbook gravity datasets Stata code estimating gravity models. estimating gravity equations using panel data see Egger P, Pfaffermayr M (2003). “proper panel econometric specification gravity equation: three-way model bilateral interaction effects.” Empirical Economics, 28(3), 571–580. ISSN 1435-8921, doi:10.1007/s001810200146 . Gómez-Herrera E (2013). “Comparing alternative methods estimate gravity models bilateral trade.” Empirical Economics, 44(3), 1087–1111. ISSN 1435-8921, doi:10.1007/s00181-012-0576-2 . references therein.","code":""},{"path":[]},{"path":"/reference/tobit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Left-censored Tobit model with known threshold — tobit","text":"","code":"# Example for CRAN checks: # Executable in < 5 sec  data(\"gravity_no_zeros\")  # Choose 5 countries for testing countries_chosen <- c(\"AUS\", \"CHN\", \"GBR\", \"BRA\", \"CAN\") grav_small <- subset(gravity_no_zeros, iso_o %in% countries_chosen)  grav_small$lgdp_o <- log(grav_small$gdp_o) grav_small$lgdp_d <- log(grav_small$gdp_d)  fit <- tobit(   dependent_variable = \"flow\",   distance = \"distw\",   additional_regressors = c(\"rta\", \"lgdp_o\", \"lgdp_d\"),   added_constant = 1,   data = grav_small )"},{"path":"/news/index.html","id":"gravity-12","dir":"Changelog","previous_headings":"","what":"gravity 1.2","title":"gravity 1.2","text":"Sets NULL default argument additional regressors (#23, @MatthieuStigler)","code":""},{"path":"/news/index.html","id":"gravity-11","dir":"Changelog","previous_headings":"","what":"gravity 1.1","title":"gravity 1.1","text":"CRAN release: 2023-05-02 Updated maintainer’s email Avoids 1:NROW() uses seq_len() instead","code":""},{"path":"/news/index.html","id":"gravity-10","dir":"Changelog","previous_headings":"","what":"gravity 1.0","title":"gravity 1.0","text":"CRAN release: 2022-01-05 Corrects CRAN warnings DESCRIPTION","code":""},{"path":"/news/index.html","id":"gravity-099","dir":"Changelog","previous_headings":"","what":"gravity 0.9.9","title":"gravity 0.9.9","text":"CRAN release: 2020-07-27 Added NEWS.md file track changes package. Fixes warnings “add argument group_by() deprecated dplyr 1.0.0.”","code":""}]
